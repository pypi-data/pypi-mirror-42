{"version":3,"file":"458b770e70327033f1b8.chunk.js","sources":["webpack:///458b770e70327033f1b8.chunk.js"],"sourcesContent":["(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{169:function(module,__webpack_exports__,__webpack_require__){\"use strict\";var _polymer_polymer_lib_utils_html_tag__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),_polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(13),_resources_ha_style__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(97);class HaConfigSection extends _polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_1__.a{static get template(){return _polymer_polymer_lib_utils_html_tag__WEBPACK_IMPORTED_MODULE_0__.a`\n      <style include=\"iron-flex ha-style\">\n        .content {\n          padding: 28px 20px 0;\n          max-width: 1040px;\n          margin: 0 auto;\n        }\n\n        .header {\n          @apply --paper-font-display1;\n          opacity: var(--dark-primary-opacity);\n        }\n\n        .together {\n          margin-top: 32px;\n        }\n\n        .intro {\n          @apply --paper-font-subhead;\n          width: 100%;\n          max-width: 400px;\n          margin-right: 40px;\n          opacity: var(--dark-primary-opacity);\n        }\n\n        .panel {\n          margin-top: -24px;\n        }\n\n        .panel ::slotted(*) {\n          margin-top: 24px;\n          display: block;\n        }\n\n        .narrow.content {\n          max-width: 640px;\n        }\n        .narrow .together {\n          margin-top: 20px;\n        }\n        .narrow .header {\n          @apply --paper-font-headline;\n        }\n        .narrow .intro {\n          font-size: 14px;\n          padding-bottom: 20px;\n          margin-right: 0;\n          max-width: 500px;\n        }\n      </style>\n      <div class$=\"[[computeContentClasses(isWide)]]\">\n        <div class=\"header\"><slot name=\"header\"></slot></div>\n        <div class$=\"[[computeClasses(isWide)]]\">\n          <div class=\"intro\"><slot name=\"introduction\"></slot></div>\n          <div class=\"panel flex-auto\"><slot></slot></div>\n        </div>\n      </div>\n    `}static get properties(){return{hass:{type:Object},narrow:{type:Boolean},showMenu:{type:Boolean,value:!1},isWide:{type:Boolean,value:!1}}}computeContentClasses(isWide){var classes=\"content \";return isWide?classes:classes+\"narrow\"}computeClasses(isWide){var classes=\"together layout \";return classes+(isWide?\"horizontal\":\"vertical narrow\")}}customElements.define(\"ha-config-section\",HaConfigSection)},195:function(module,__webpack_exports__,__webpack_require__){\"use strict\";var _polymer_app_layout_app_header_layout_app_header_layout__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(178),_polymer_app_layout_app_header_app_header__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(172),_polymer_app_layout_app_toolbar_app_toolbar__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(127),_polymer_paper_icon_button_paper_icon_button__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(94),_polymer_polymer_lib_utils_html_tag__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2),_polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(13);class HassSubpage extends _polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_5__.a{static get template(){return _polymer_polymer_lib_utils_html_tag__WEBPACK_IMPORTED_MODULE_4__.a`\n      <style include=\"ha-style\"></style>\n      <app-header-layout has-scrolling-region=\"\">\n        <app-header slot=\"header\" fixed=\"\">\n          <app-toolbar>\n            <paper-icon-button\n              icon=\"hass:arrow-left\"\n              on-click=\"_backTapped\"\n            ></paper-icon-button>\n            <div main-title=\"\">[[header]]</div>\n            <slot name=\"toolbar-icon\"></slot>\n          </app-toolbar>\n        </app-header>\n\n        <slot></slot>\n      </app-header-layout>\n    `}static get properties(){return{header:String}}_backTapped(){history.back()}}customElements.define(\"hass-subpage\",HassSubpage)},235:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_exports__.a=(a,b)=>{if(a<b){return-1}if(a>b){return 1}return 0}},718:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__);var lit_element=__webpack_require__(10),paper_item=__webpack_require__(122),paper_item_body=__webpack_require__(155),paper_card=__webpack_require__(152),paper_fab=__webpack_require__(214);const fetchPersons=hass=>hass.callWS({type:\"person/list\"}),createPerson=(hass,values)=>hass.callWS(Object.assign({type:\"person/create\"},values)),updatePerson=(hass,personId,updates)=>hass.callWS(Object.assign({type:\"person/update\",person_id:personId},updates)),deletePerson=(hass,personId)=>hass.callWS({type:\"person/delete\",person_id:personId});var hass_subpage=__webpack_require__(195),hass_loading_screen=__webpack_require__(138),compare=__webpack_require__(235),ha_config_section=__webpack_require__(169),fire_event=__webpack_require__(58);const loadPersonDetailDialog=()=>Promise.all([__webpack_require__.e(1),__webpack_require__.e(2),__webpack_require__.e(3),__webpack_require__.e(4),__webpack_require__.e(94)]).then(__webpack_require__.bind(null,776)),showPersonDetailDialog=(element,systemLogDetailParams)=>{Object(fire_event.a)(element,\"show-dialog\",{dialogTag:\"dialog-person-detail\",dialogImport:loadPersonDetailDialog,dialogParams:systemLogDetailParams})};class ha_config_person_HaConfigPerson extends lit_element.a{constructor(...args){super(...args);this.hass=void 0;this.isWide=void 0;this._storageItems=void 0;this._configItems=void 0}static get properties(){return{hass:{},isWide:{},_storageItems:{},_configItems:{}}}render(){if(!this.hass||this._storageItems===void 0||this._configItems===void 0){return lit_element.e`\n        <hass-loading-screen></hass-loading-screen>\n      `}return lit_element.e`\n      <hass-subpage header=\"Persons\">\n        <ha-config-section .isWide=${this.isWide}>\n          <span slot=\"header\">Persons</span>\n          <span slot=\"introduction\">\n            Here you can define each person of interest in Home Assistant.\n            ${0<this._configItems.length?lit_element.e`\n                  <p>\n                    Note: people configured via configuration.yaml cannot be\n                    edited via the UI.\n                  </p>\n                `:\"\"}\n          </span>\n          <paper-card class=\"storage\">\n            ${this._storageItems.map(entry=>{return lit_element.e`\n                <paper-item @click=${this._openEditEntry} .entry=${entry}>\n                  <paper-item-body>\n                    ${entry.name}\n                  </paper-item-body>\n                </paper-item>\n              `})}\n            ${0===this._storageItems.length?lit_element.e`\n                  <div class=\"empty\">\n                    Looks like you have no people yet!\n                    <paper-button @click=${this._createPerson}>\n                      CREATE PERSON</paper-button\n                    >\n                  </div>\n                `:lit_element.e``}\n          </paper-card>\n          ${0<this._configItems.length?lit_element.e`\n                <paper-card heading=\"Configuration.yaml people\">\n                  ${this._configItems.map(entry=>{return lit_element.e`\n                      <paper-item>\n                        <paper-item-body>\n                          ${entry.name}\n                        </paper-item-body>\n                      </paper-item>\n                    `})}\n                </paper-card>\n              `:\"\"}\n        </ha-config-section>\n      </hass-subpage>\n\n      <paper-fab\n        ?is-wide=${this.isWide}\n        icon=\"hass:plus\"\n        title=\"Create Area\"\n        @click=${this._createPerson}\n      ></paper-fab>\n    `}firstUpdated(changedProps){super.firstUpdated(changedProps);this._fetchData();loadPersonDetailDialog()}async _fetchData(){const personData=await fetchPersons(this.hass);this._storageItems=personData.storage.sort((ent1,ent2)=>Object(compare.a)(ent1.name,ent2.name));this._configItems=personData.config.sort((ent1,ent2)=>Object(compare.a)(ent1.name,ent2.name))}_createPerson(){this._openDialog()}_openEditEntry(ev){const entry=ev.currentTarget.entry;this._openDialog(entry)}_openDialog(entry){showPersonDetailDialog(this,{entry,createEntry:async values=>{const created=await createPerson(this.hass,values);this._storageItems=this._storageItems.concat(created).sort((ent1,ent2)=>Object(compare.a)(ent1.name,ent2.name))},updateEntry:async values=>{const updated=await updatePerson(this.hass,entry.id,values);this._storageItems=this._storageItems.map(ent=>ent===entry?updated:ent)},removeEntry:async()=>{if(!confirm(`Are you sure you want to delete this area?\n\nAll devices in this area will become unassigned.`)){return!1}try{await deletePerson(this.hass,entry.id);this._storageItems=this._storageItems.filter(ent=>ent!==entry);return!0}catch(err){return!1}}})}static get styles(){return lit_element.c`\n      a {\n        color: var(--primary-color);\n      }\n      paper-card {\n        display: block;\n        max-width: 600px;\n        margin: 16px auto;\n      }\n      .empty {\n        text-align: center;\n      }\n      paper-item {\n        padding-top: 4px;\n        padding-bottom: 4px;\n      }\n      paper-card.storage paper-item {\n        cursor: pointer;\n      }\n      paper-fab {\n        position: fixed;\n        bottom: 16px;\n        right: 16px;\n        z-index: 1;\n      }\n\n      paper-fab[is-wide] {\n        bottom: 24px;\n        right: 24px;\n      }\n    `}}customElements.define(\"ha-config-person\",ha_config_person_HaConfigPerson)}}]);"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourceRoot":""}
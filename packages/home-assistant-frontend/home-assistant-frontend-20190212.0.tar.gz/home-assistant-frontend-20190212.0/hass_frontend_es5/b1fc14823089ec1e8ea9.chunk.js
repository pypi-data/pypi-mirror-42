(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{168:function(module,__webpack_exports__,__webpack_require__){"use strict";var _polymer_polymer_lib_utils_html_tag__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),_polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(13),_resources_ha_style__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(97);function _typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _templateObject(){var data=_taggedTemplateLiteral(["\n      <style include=\"iron-flex ha-style\">\n        .content {\n          padding: 28px 20px 0;\n          max-width: 1040px;\n          margin: 0 auto;\n        }\n\n        .header {\n          @apply --paper-font-display1;\n          opacity: var(--dark-primary-opacity);\n        }\n\n        .together {\n          margin-top: 32px;\n        }\n\n        .intro {\n          @apply --paper-font-subhead;\n          width: 100%;\n          max-width: 400px;\n          margin-right: 40px;\n          opacity: var(--dark-primary-opacity);\n        }\n\n        .panel {\n          margin-top: -24px;\n        }\n\n        .panel ::slotted(*) {\n          margin-top: 24px;\n          display: block;\n        }\n\n        .narrow.content {\n          max-width: 640px;\n        }\n        .narrow .together {\n          margin-top: 20px;\n        }\n        .narrow .header {\n          @apply --paper-font-headline;\n        }\n        .narrow .intro {\n          font-size: 14px;\n          padding-bottom: 20px;\n          margin-right: 0;\n          max-width: 500px;\n        }\n      </style>\n      <div class$=\"[[computeContentClasses(isWide)]]\">\n        <div class=\"header\"><slot name=\"header\"></slot></div>\n        <div class$=\"[[computeClasses(isWide)]]\">\n          <div class=\"intro\"><slot name=\"introduction\"></slot></div>\n          <div class=\"panel flex-auto\"><slot></slot></div>\n        </div>\n      </div>\n    "]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"===typeof call)){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var HaConfigSection=function(_PolymerElement){_inherits(HaConfigSection,_PolymerElement);function HaConfigSection(){_classCallCheck(this,HaConfigSection);return _possibleConstructorReturn(this,_getPrototypeOf(HaConfigSection).apply(this,arguments))}_createClass(HaConfigSection,[{key:"computeContentClasses",value:function computeContentClasses(isWide){var classes="content ";return isWide?classes:classes+"narrow"}},{key:"computeClasses",value:function computeClasses(isWide){var classes="together layout ";return classes+(isWide?"horizontal":"vertical narrow")}}],[{key:"template",get:function get(){return Object(_polymer_polymer_lib_utils_html_tag__WEBPACK_IMPORTED_MODULE_0__.a)(_templateObject())}},{key:"properties",get:function get(){return{hass:{type:Object},narrow:{type:Boolean},showMenu:{type:Boolean,value:!1},isWide:{type:Boolean,value:!1}}}}]);return HaConfigSection}(_polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_1__.a);customElements.define("ha-config-section",HaConfigSection)},192:function(module,__webpack_exports__,__webpack_require__){"use strict";var _polymer_app_layout_app_header_layout_app_header_layout__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(175),_polymer_app_layout_app_header_app_header__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(171),_polymer_app_layout_app_toolbar_app_toolbar__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(126),_polymer_paper_icon_button_paper_icon_button__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(94),_polymer_polymer_lib_utils_html_tag__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2),_polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(13);function _typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _templateObject(){var data=_taggedTemplateLiteral(["\n      <style include=\"ha-style\"></style>\n      <app-header-layout has-scrolling-region=\"\">\n        <app-header slot=\"header\" fixed=\"\">\n          <app-toolbar>\n            <paper-icon-button\n              icon=\"hass:arrow-left\"\n              on-click=\"_backTapped\"\n            ></paper-icon-button>\n            <div main-title=\"\">[[header]]</div>\n            <slot name=\"toolbar-icon\"></slot>\n          </app-toolbar>\n        </app-header>\n\n        <slot></slot>\n      </app-header-layout>\n    "]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"===typeof call)){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var HassSubpage=function(_PolymerElement){_inherits(HassSubpage,_PolymerElement);function HassSubpage(){_classCallCheck(this,HassSubpage);return _possibleConstructorReturn(this,_getPrototypeOf(HassSubpage).apply(this,arguments))}_createClass(HassSubpage,[{key:"_backTapped",value:function _backTapped(){history.back()}}],[{key:"template",get:function get(){return Object(_polymer_polymer_lib_utils_html_tag__WEBPACK_IMPORTED_MODULE_4__.a)(_templateObject())}},{key:"properties",get:function get(){return{header:String}}}]);return HassSubpage}(_polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_5__.a);customElements.define("hass-subpage",HassSubpage)},233:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(a,b){if(a<b){return-1}if(a>b){return 1}return 0}},717:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var lit_element=__webpack_require__(10),paper_item=__webpack_require__(122),paper_item_body=__webpack_require__(158),paper_card=__webpack_require__(152),paper_fab=__webpack_require__(212),fetchPersons=function fetchPersons(hass){return hass.callWS({type:"person/list"})},createPerson=function createPerson(hass,values){return hass.callWS(Object.assign({type:"person/create"},values))},updatePerson=function updatePerson(hass,personId,updates){return hass.callWS(Object.assign({type:"person/update",person_id:personId},updates))},deletePerson=function deletePerson(hass,personId){return hass.callWS({type:"person/delete",person_id:personId})},hass_subpage=__webpack_require__(192),hass_loading_screen=__webpack_require__(139),compare=__webpack_require__(233),ha_config_section=__webpack_require__(168),fire_event=__webpack_require__(58),loadPersonDetailDialog=function loadPersonDetailDialog(){return Promise.all([__webpack_require__.e(1),__webpack_require__.e(3),__webpack_require__.e(2),__webpack_require__.e(4),__webpack_require__.e(95)]).then(__webpack_require__.bind(null,775))},show_dialog_person_detail_showPersonDetailDialog=function showPersonDetailDialog(element,systemLogDetailParams){Object(fire_event.a)(element,"show-dialog",{dialogTag:"dialog-person-detail",dialogImport:loadPersonDetailDialog,dialogParams:systemLogDetailParams})};function _typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _templateObject9(){var data=_taggedTemplateLiteral(["\n      a {\n        color: var(--primary-color);\n      }\n      paper-card {\n        display: block;\n        max-width: 600px;\n        margin: 16px auto;\n      }\n      .empty {\n        text-align: center;\n      }\n      paper-item {\n        padding-top: 4px;\n        padding-bottom: 4px;\n      }\n      paper-card.storage paper-item {\n        cursor: pointer;\n      }\n      paper-fab {\n        position: fixed;\n        bottom: 16px;\n        right: 16px;\n        z-index: 1;\n      }\n\n      paper-fab[is-wide] {\n        bottom: 24px;\n        right: 24px;\n      }\n    "]);_templateObject9=function _templateObject9(){return data};return data}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function _templateObject8(){var data=_taggedTemplateLiteral(["\n                      <paper-item>\n                        <paper-item-body>\n                          ","\n                        </paper-item-body>\n                      </paper-item>\n                    "]);_templateObject8=function _templateObject8(){return data};return data}function _templateObject7(){var data=_taggedTemplateLiteral(["\n                <paper-card heading=\"Configuration.yaml people\">\n                  ","\n                </paper-card>\n              "]);_templateObject7=function _templateObject7(){return data};return data}function _templateObject6(){var data=_taggedTemplateLiteral([""]);_templateObject6=function _templateObject6(){return data};return data}function _templateObject5(){var data=_taggedTemplateLiteral(["\n                  <div class=\"empty\">\n                    Looks like you have no people yet!\n                    <paper-button @click=",">\n                      CREATE PERSON</paper-button\n                    >\n                  </div>\n                "]);_templateObject5=function _templateObject5(){return data};return data}function _templateObject4(){var data=_taggedTemplateLiteral(["\n                <paper-item @click="," .entry=",">\n                  <paper-item-body>\n                    ","\n                  </paper-item-body>\n                </paper-item>\n              "]);_templateObject4=function _templateObject4(){return data};return data}function _templateObject3(){var data=_taggedTemplateLiteral(["\n                  <p>\n                    Note: people configured via configuration.yaml cannot be\n                    edited via the UI.\n                  </p>\n                "]);_templateObject3=function _templateObject3(){return data};return data}function _templateObject2(){var data=_taggedTemplateLiteral(["\n      <hass-subpage header=\"Persons\">\n        <ha-config-section .isWide=",">\n          <span slot=\"header\">Persons</span>\n          <span slot=\"introduction\">\n            Here you can define each person of interest in Home Assistant.\n            ","\n          </span>\n          <paper-card class=\"storage\">\n            ","\n            ","\n          </paper-card>\n          ","\n        </ha-config-section>\n      </hass-subpage>\n\n      <paper-fab\n        ?is-wide=","\n        icon=\"hass:plus\"\n        title=\"Create Area\"\n        @click=","\n      ></paper-fab>\n    "]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n        <hass-loading-screen></hass-loading-screen>\n      "]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"===typeof call)){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(target,property,receiver){if("undefined"!==typeof Reflect&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(null===object)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ha_config_person_HaConfigPerson=function(_LitElement){_inherits(HaConfigPerson,_LitElement);function HaConfigPerson(){var _getPrototypeOf2,_this;_classCallCheck(this,HaConfigPerson);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(HaConfigPerson)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.hass=void 0;_this.isWide=void 0;_this._storageItems=void 0;_this._configItems=void 0;return _this}_createClass(HaConfigPerson,[{key:"render",value:function render(){var _this2=this;if(!this.hass||this._storageItems===void 0||this._configItems===void 0){return Object(lit_element.e)(_templateObject())}return Object(lit_element.e)(_templateObject2(),this.isWide,0<this._configItems.length?Object(lit_element.e)(_templateObject3()):"",this._storageItems.map(function(entry){return Object(lit_element.e)(_templateObject4(),_this2._openEditEntry,entry,entry.name)}),0===this._storageItems.length?Object(lit_element.e)(_templateObject5(),this._createPerson):Object(lit_element.e)(_templateObject6()),0<this._configItems.length?Object(lit_element.e)(_templateObject7(),this._configItems.map(function(entry){return Object(lit_element.e)(_templateObject8(),entry.name)})):"",this.isWide,this._createPerson)}},{key:"firstUpdated",value:function firstUpdated(changedProps){_get(_getPrototypeOf(HaConfigPerson.prototype),"firstUpdated",this).call(this,changedProps);this._fetchData();loadPersonDetailDialog()}},{key:"_fetchData",value:function(){var _fetchData2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var personData;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetchPersons(this.hass);case 2:personData=_context.sent;this._storageItems=personData.storage.sort(function(ent1,ent2){return Object(compare.a)(ent1.name,ent2.name)});this._configItems=personData.config.sort(function(ent1,ent2){return Object(compare.a)(ent1.name,ent2.name)});case 5:case"end":return _context.stop();}}},_callee,this)}));function _fetchData(){return _fetchData2.apply(this,arguments)}return _fetchData}()},{key:"_createPerson",value:function _createPerson(){this._openDialog()}},{key:"_openEditEntry",value:function _openEditEntry(ev){var entry=ev.currentTarget.entry;this._openDialog(entry)}},{key:"_openDialog",value:function _openDialog(entry){var _this3=this;show_dialog_person_detail_showPersonDetailDialog(this,{entry:entry,createEntry:function(){var _createEntry=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(values){var created;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return createPerson(_this3.hass,values);case 2:created=_context2.sent;_this3._storageItems=_this3._storageItems.concat(created).sort(function(ent1,ent2){return Object(compare.a)(ent1.name,ent2.name)});case 4:case"end":return _context2.stop();}}},_callee2,this)}));function createEntry(_x){return _createEntry.apply(this,arguments)}return createEntry}(),updateEntry:function(){var _updateEntry=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(values){var updated;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return updatePerson(_this3.hass,entry.id,values);case 2:updated=_context3.sent;_this3._storageItems=_this3._storageItems.map(function(ent){return ent===entry?updated:ent});case 4:case"end":return _context3.stop();}}},_callee3,this)}));function updateEntry(_x2){return _updateEntry.apply(this,arguments)}return updateEntry}(),removeEntry:function(){var _removeEntry=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(confirm("Are you sure you want to delete this area?\n\nAll devices in this area will become unassigned.")){_context4.next=2;break}return _context4.abrupt("return",!1);case 2:_context4.prev=2;_context4.next=5;return deletePerson(_this3.hass,entry.id);case 5:_this3._storageItems=_this3._storageItems.filter(function(ent){return ent!==entry});return _context4.abrupt("return",!0);case 9:_context4.prev=9;_context4.t0=_context4["catch"](2);return _context4.abrupt("return",!1);case 12:case"end":return _context4.stop();}}},_callee4,this,[[2,9]])}));function removeEntry(){return _removeEntry.apply(this,arguments)}return removeEntry}()})}}],[{key:"properties",get:function get(){return{hass:{},isWide:{},_storageItems:{},_configItems:{}}}},{key:"styles",get:function get(){return Object(lit_element.c)(_templateObject9())}}]);return HaConfigPerson}(lit_element.a);customElements.define("ha-config-person",ha_config_person_HaConfigPerson)}}]);
//# sourceMappingURL=b1fc14823089ec1e8ea9.chunk.js.map
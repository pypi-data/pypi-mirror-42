
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Changes 2019 in Lino &#8212; Lino docs 19.2.1 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/linodocs.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Changes 2018 in Lino" href="2018.html" />
    <link rel="prev" title="Changes in Lino" href="index.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  
  <div class="section" id="changes-2019-in-lino">
<span id="lino-changes-2019"></span><h1>Changes 2019 in Lino<a class="headerlink" href="#changes-2019-in-lino" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#id1" id="id17">2019-02-22</a></li>
<li><a class="reference internal" href="#id2" id="id18">2019-02-17</a></li>
<li><a class="reference internal" href="#id3" id="id19">2019-02-14</a></li>
<li><a class="reference internal" href="#id4" id="id20">2019-02-12</a></li>
<li><a class="reference internal" href="#id5" id="id21">2019-02-11</a></li>
<li><a class="reference internal" href="#id6" id="id22">2019-02-09</a></li>
<li><a class="reference internal" href="#id7" id="id23">2019-02-08</a></li>
<li><a class="reference internal" href="#id8" id="id24">2019-02-05</a></li>
<li><a class="reference internal" href="#id9" id="id25">2019-02-02</a></li>
<li><a class="reference internal" href="#id10" id="id26">2019-01-28</a></li>
<li><a class="reference internal" href="#id11" id="id27">2019-01-24</a></li>
<li><a class="reference internal" href="#id12" id="id28">2019-01-22</a></li>
<li><a class="reference internal" href="#id13" id="id29">2019-01-16</a></li>
<li><a class="reference internal" href="#id14" id="id30">2019-01-10</a></li>
<li><a class="reference internal" href="#id15" id="id31">2019-01-07</a></li>
<li><a class="reference internal" href="#id16" id="id32">2019-01-04</a></li>
</ul>
</div>
<div class="section" id="id1">
<h2><a class="toc-backref" href="#id17">2019-02-22</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>Uploading files under Python 3 caused a server error <code class="docutils literal notranslate"><span class="pre">Exception</span> <span class="pre">Value:</span>
<span class="pre">a</span> <span class="pre">bytes-like</span> <span class="pre">object</span> <span class="pre">is</span> <span class="pre">required,</span> <span class="pre">not</span> <span class="pre">'str'</span></code> (<a class="reference external" href="http://bugs.saffre-rumma.net/tickets/Ticket/2845">#2845</a>).</p>
<p>Released Lino 19.2.1.</p>
<p>Fixed a bug in which caused a UnicodeEncodeError in
<a class="reference external" href="http://docs.lino-framework.org/specs/export_excel.html#lino-specs-export-excel" title="(in Lino v19.2)"><span>export_excel : Exporting to Excel</span></a> on <a class="reference external" href="https://travis-ci.org/lino-framework/book/jobs/497045894#L4665">Travis</a> and
possibly in other situations as well.</p>
</div>
<div class="section" id="id2">
<h2><a class="toc-backref" href="#id18">2019-02-17</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>Have the renderer return a js string that when eval’d reloads the dashboard,
rather than a hard-coded string.</p>
</div>
<div class="section" id="id3">
<h2><a class="toc-backref" href="#id19">2019-02-14</a><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>Make the field’s label following FileField visible <a class="reference external" href="http://bugs.saffre-rumma.net/tickets/Ticket/2830">#2830</a>.</p>
</div>
<div class="section" id="id4">
<h2><a class="toc-backref" href="#id20">2019-02-12</a><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<p>Translations for <a class="reference external" href="http://bugs.saffre-rumma.net/tickets/Ticket/2834">#2834</a>.</p>
</div>
<div class="section" id="id5">
<h2><a class="toc-backref" href="#id21">2019-02-11</a><a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p>Added a button “Close and save window” (<a class="reference external" href="http://bugs.saffre-rumma.net/tickets/Ticket/2816">#2816</a>)</p>
</div>
<div class="section" id="id6">
<h2><a class="toc-backref" href="#id22">2019-02-09</a><a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<p>Released Lino 19.2.0 to PyPI.</p>
<p>Added two columns volume library_file in UploadsByController</p>
</div>
<div class="section" id="id7">
<h2><a class="toc-backref" href="#id23">2019-02-08</a><a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference external" href="http://docs.lino-framework.org/api/lino.modlib.uploads.html#module-lino.modlib.uploads" title="(in Lino v19.2)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">lino.modlib.uploads</span></code></a> plugin has been extended to support
<a class="reference external" href="http://bugs.saffre-rumma.net/tickets/Ticket/2826">#2826</a>. Until now an <a class="reference external" href="http://docs.lino-framework.org/specs/uploads.html#lino.modlib.uploads.Upload" title="(in Lino v19.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Upload</span></code></a> could represent either an uploaded
file (the original meaning) or just an entry representing some external
document to be monitored by its author, without any uploaded file. With
<a class="reference external" href="http://bugs.saffre-rumma.net/tickets/Ticket/2826">#2826</a> we add a third possibility a “library file”, i.e. a file that
has been stored on some volume using some other method than uploading.</p>
<p>Concretely:</p>
<ul>
<li><p class="first">Added a new model <code class="xref py py-class docutils literal notranslate"><span class="pre">Volume</span></code></p>
</li>
<li><p class="first">Added two fields <code class="xref py py-attr docutils literal notranslate"><span class="pre">volume</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">library_file</span></code> to the
<a class="reference external" href="http://docs.lino-framework.org/specs/uploads.html#lino.modlib.uploads.Upload" title="(in Lino v19.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Upload</span></code></a> model.</p>
</li>
<li><p class="first">The insert_layout of <code class="xref py py-class docutils literal notranslate"><span class="pre">UploadsByControler</span></code> does <em>not</em> include the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">volume</span></code>, but instead the controller (owner) decides which volume is to
be used.</p>
<p>IOW a new method <code class="xref py py-meth docutils literal notranslate"><span class="pre">UploadController.get_uploads_volume()</span></code>.  The field
should be hidden or at least readonly when the owner says that there is no
volume.</p>
</li>
</ul>
</div>
<div class="section" id="id8">
<h2><a class="toc-backref" href="#id24">2019-02-05</a><a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<p>Fixed <a class="reference external" href="http://bugs.saffre-rumma.net/tickets/Ticket/2822">#2822</a> (Cannot create new user ‘NoneType’ object has no attribute ‘full_value_from_object’)</p>
<p>Fixed ActionFormPanel logic to use action.html_method.</p>
<p>Changed sign_in action to use POST as html_method.</p>
</div>
<div class="section" id="id9">
<h2><a class="toc-backref" href="#id25">2019-02-02</a><a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h2>
<p>Field values for actons with paramiers no long need to be an array with a key of ‘fv’.
They now can be included in the root of the data object with the field name as the key.</p>
</div>
<div class="section" id="id10">
<h2><a class="toc-backref" href="#id26">2019-01-28</a><a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h2>
<p>We fixed the <a class="reference external" href="http://bugs.saffre-rumma.net/tickets/Ticket/2782">#2782</a> (Dashboard in Jane is slower than before).
Store has a new attribute <cite>_disabled_fields_storefield</cite>.</p>
</div>
<div class="section" id="id11">
<h2><a class="toc-backref" href="#id27">2019-01-24</a><a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h2>
<p>Changed the verbose name for <a class="reference external" href="http://docs.lino-framework.org/specs/printing.html#lino.modlib.printing.BuildMethods" title="(in Lino v19.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">lino.modlib.printing.BuildMethods</span></code></a> from
“Build method” to “Print method”.</p>
</div>
<div class="section" id="id12">
<h2><a class="toc-backref" href="#id28">2019-01-22</a><a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h2>
<p><code class="xref py py-mod docutils literal notranslate"><span class="pre">lino.sphinxcontrib.help_text_extractor</span></code> caused a Sphinx warning
<code class="docutils literal notranslate"><span class="pre">RemovedInSphinx20Warning:</span> <span class="pre">app.info()</span> <span class="pre">is</span> <span class="pre">now</span> <span class="pre">deprecated.</span> <span class="pre">Use</span>
<span class="pre">sphinx.util.logging</span> <span class="pre">instead.</span></code> (fixed)</p>
<p>Added intersphinx_urls, srcref_url and doc_trees settings to the main module so
that other doctrees can link to the docs.</p>
</div>
<div class="section" id="id13">
<h2><a class="toc-backref" href="#id29">2019-01-16</a><a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h2>
<p>I fixed <a class="reference external" href="http://bugs.saffre-rumma.net/tickets/Ticket/2785">#2785</a> (Django 2.1.5 under Py3 restore.py fails saying
disable_constraint_checking).
For the test <a class="reference external" href="http://docs.lino-framework.org/api/lino.utils.djangotest.html#lino.utils.djangotest.RestoreTestCase" title="(in Lino v19.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">lino.utils.djangotest.RestoreTestCase</span></code></a>, we need to make
sure that foreign_keys is set to OFF before we actually start the restore.</p>
</div>
<div class="section" id="id14">
<h2><a class="toc-backref" href="#id30">2019-01-10</a><a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h2>
<p>I fixed <a class="reference external" href="http://bugs.saffre-rumma.net/tickets/Ticket/2784">#2784</a> (Some actions are duplicated).  The show action of
<code class="xref py py-class docutils literal notranslate"><span class="pre">lino_welfare.modlib.integ.ActivityReport</span></code> was duplicated in
<code class="xref py py-attr docutils literal notranslate"><span class="pre">Actor._actions_list</span></code> but nobody ever complained because it was not
visible. But since I wrote a test case in <a class="reference external" href="http://docs.lino-framework.org/specs/welfare/integ.html#welfare-specs-integ" title="(in Lino v19.2)"><span>Integration Service</span></a> which
verifies that the ticket is fixed, I must now do a release on PyPI to get the
test suite on <a class="reference external" href="http://docs.lino-framework.org/dev/testing.html#travis" title="(in Lino v19.2)"><span>Travis CI</span></a> passing again.</p>
</div>
<div class="section" id="id15">
<h2><a class="toc-backref" href="#id31">2019-01-07</a><a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h2>
<p>We released Lino 19.1.2</p>
<p>Immediately after the release we discovered a bug in Lino 19.1.2 which caused a
missing <img alt="insert" src="https://github.com/lino-framework/lino/blob/master/lino/static/images/mjames/add.png?raw=true" /> button in a critical place in Tera.  So we did a quick bugfix
release 19.1.3.</p>
</div>
<div class="section" id="id16">
<h2><a class="toc-backref" href="#id32">2019-01-04</a><a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h2>
<p>We released Lino 19.1.0</p>
<p>New <a class="reference external" href="http://docs.lino-framework.org/api/lino.core.fields.html#lino.core.fields.TableRow" title="(in Lino v19.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">lino.core.fields.TableRow</span></code></a>.</p>
<p>The message “Form fields may not be submitted with invalid values” says now
“Please check all fields of this form before submitting.”
(<a class="reference external" href="http://docs.lino-framework.org/ref/javascript.html#xfile-linoweb.js" title="(in Lino v19.2)"><code class="xref std std-xfile docutils literal notranslate"><span class="pre">linoweb.js</span></code></a>)</p>
</div>
</div>



          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo_web3.png" alt="Logo"/>
            </a></p>
<h3><a href="../index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Changes in Lino</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><p align="center">
<a href="https://github.com/lino-framework/lino" target="_blank">GitHub</a>
<a href="http://pypi.python.org/pypi/lino" target="_blank">pypi</a>

</p>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
        &copy; Copyright 2014-2019 Rumma &amp; Ko Ltd.
      Last updated on Feb 22, 2019.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.8.2.    
    <a href="https://raw.github.com/lino-framework/lino/master/docs/changes/2019.rst"
           rel="nofollow">Show Source</a>.
    <a href="http://docs.lino-framework.org/changes/2019.html">Online Link</a>.
    </div>
  </body>
</html>
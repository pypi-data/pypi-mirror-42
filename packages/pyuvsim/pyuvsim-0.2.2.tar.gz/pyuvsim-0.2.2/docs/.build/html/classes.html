
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Full class list and documentation &#8212; pyuvsim  documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Parameter and configuration Files" href="parameter_files.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="parameter_files.html" title="Parameter and configuration Files"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyuvsim  documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="full-class-list-and-documentation">
<h1>Full class list and documentation<a class="headerlink" href="#full-class-list-and-documentation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="primary-beams">
<h2>Primary Beams<a class="headerlink" href="#primary-beams" title="Permalink to this headline">¶</a></h2>
<p>Simulations may be run using pyuvdata UVBeam objects or AnalyticBeam objects.</p>
<dl class="class">
<dt id="pyuvsim.AnalyticBeam">
<em class="property">class </em><code class="descclassname">pyuvsim.</code><code class="descname">AnalyticBeam</code><span class="sig-paren">(</span><em>type</em>, <em>sigma=None</em>, <em>diameter=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyuvsim/analyticbeam.html#AnalyticBeam"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyuvsim.AnalyticBeam" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines an object with similar functionality to pyuvdata.UVBeam</p>
<p>Directly calculates jones matrices at given azimuths and zenith angles
from analytic functions.</p>
<p>Supports uniform (unit response in all directions), gaussian, and Airy
function beam types.</p>
<dl class="method">
<dt id="pyuvsim.AnalyticBeam.interp">
<code class="descname">interp</code><span class="sig-paren">(</span><em>az_array</em>, <em>za_array</em>, <em>freq_array</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyuvsim/analyticbeam.html#AnalyticBeam.interp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyuvsim.AnalyticBeam.interp" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the primary beam at given az, za locations (in radians).</p>
<p>(similar to UVBeam.interp)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>az_array</strong> – az values to evaluate at in radians (same length as za_array)
The azimuth here has the UVBeam convention: North of East(East=0, North=pi/2)</li>
<li><strong>za_array</strong> – za values to evaluate at in radians (same length as az_array)</li>
<li><strong>freq_array</strong> – frequency values to evaluate at</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><dl class="docutils">
<dt>an array of beam values, shape (Naxes_vec, Nspws, Nfeeds or Npols,</dt>
<dd><p class="first last">Nfreqs or freq_array.size if freq_array is passed,
Npixels/(Naxis1, Naxis2) or az_array.size if az/za_arrays are passed)</p>
</dd>
<dt>an array of interpolated basis vectors (or self.basis_vector_array</dt>
<dd><p class="first last">if az/za_arrays are not passed), shape: (Naxes_vec, Ncomponents_vec,
Npixels/(Naxis1, Naxis2) or az_array.size if az/za_arrays are passed)</p>
</dd>
</dl>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="antenna-objects">
<h2>Antenna objects<a class="headerlink" href="#antenna-objects" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pyuvsim.Antenna">
<em class="property">class </em><code class="descclassname">pyuvsim.</code><code class="descname">Antenna</code><span class="sig-paren">(</span><em>name</em>, <em>number</em>, <em>enu_position</em>, <em>beam_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyuvsim/antenna.html#Antenna"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyuvsim.Antenna" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines an object that can return a Jones matrix and has a specified
location, name, and number.</p>
<p>One of these defined for each antenna in the array.</p>
<dl class="method">
<dt id="pyuvsim.Antenna.get_beam_jones">
<code class="descname">get_beam_jones</code><span class="sig-paren">(</span><em>array</em>, <em>source_alt_az</em>, <em>frequency</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyuvsim/antenna.html#Antenna.get_beam_jones"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyuvsim.Antenna.get_beam_jones" title="Permalink to this definition">¶</a></dt>
<dd><p>2x2 array of Efield vectors in Az/Alt</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>array</strong> – az values to evaluate (same length as za_array)</li>
<li><strong>source_az_za</strong> – Tuple or list (azimuth, zenith angle) in radians</li>
<li><strong>frequency</strong> – (float) frequency in Hz</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><dl class="docutils">
<dt>jones_matrix, A 2x2 float array. The first axis is feed, the</dt>
<dd><p class="first last">second axis is vector component on the sky in az/za.</p>
</dd>
</dl>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="profiling">
<h2>Profiling<a class="headerlink" href="#profiling" title="Permalink to this headline">¶</a></h2>
<p>Developers will want to use line profiling tools to track down bottlenecks and
find room for performance improvements. These tools better allow profilers to
operate within the MPI environment.</p>
<span class="target" id="module-pyuvsim.profiling"></span><p>Use the line profiler when requested.</p>
<p>If the set_profiler method is called, the profile decorators
throughout the code will do line profiling on all instance methods.</p>
<dl class="function">
<dt id="pyuvsim.profiling.set_profiler">
<code class="descclassname">pyuvsim.profiling.</code><code class="descname">set_profiler</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyuvsim/profiling.html#set_profiler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyuvsim.profiling.set_profiler" title="Permalink to this definition">¶</a></dt>
<dd><p>If profiling is requested, then assign it to the builtins</p>
</dd></dl>

</div>
<div class="section" id="simulation-setup">
<h2>Simulation setup<a class="headerlink" href="#simulation-setup" title="Permalink to this headline">¶</a></h2>
<p>Simulations are run from .yaml files with specified keywords. See <span class="xref std std-ref">usage</span>.</p>
<span class="target" id="module-pyuvsim.simsetup"></span><dl class="function">
<dt id="pyuvsim.simsetup.create_mock_catalog">
<code class="descclassname">pyuvsim.simsetup.</code><code class="descname">create_mock_catalog</code><span class="sig-paren">(</span><em>time</em>, <em>arrangement='zenith'</em>, <em>array_location=None</em>, <em>Nsrcs=None</em>, <em>alt=None</em>, <em>save=False</em>, <em>min_alt=None</em>, <em>rseed=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyuvsim/simsetup.html#create_mock_catalog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyuvsim.simsetup.create_mock_catalog" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a mock catalog.</p>
<p>Sources are defined in an AltAz frame at the given time, then returned in
ICRS ra/dec coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>time</strong> (<em>float</em><em> or </em><em>astropy Time object</em>) – Julian date</li>
<li><strong>arrangement</strong> (<em>str</em>) – <p>Point source pattern (default = 1 source at zenith).
Accepted arrangements:</p>
<blockquote>
<div><div class="line-block">
<div class="line"><cite>triangle</cite>:  Three point sources forming a triangle around the zenith</div>
<div class="line"><cite>cross</cite>: An asymmetric cross</div>
<div class="line"><cite>zenith</cite>: Some number of sources placed at the zenith.</div>
<div class="line"><cite>off-zenith</cite>:  A single source off zenith</div>
<div class="line"><cite>long-line</cite>:  Horizon to horizon line of point sources</div>
<div class="line"><cite>hera_text</cite>:  Spell out HERA around the zenith</div>
<div class="line"><cite>random</cite>:  Randomly distributed point sources near zenith</div>
</div>
</div></blockquote>
</li>
<li><strong>Nsrcs</strong> (<em>int</em>) – Number of sources to put at zenith</li>
<li><strong>array_location</strong> (<em>EarthLocation object</em>) – [Default = HERA site]</li>
<li><strong>alt</strong> (<em>float</em>) – For off-zenith and triangle arrangements, altitude to place sources. (deg)</li>
<li><strong>save</strong> (<em>bool</em>) – Save mock catalog as npz file.</li>
<li><strong>rseed</strong> (<em>int</em>) – If using the random configuration, pass in a RandomState seed.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">List of pyuvsim.Source objects
mock_kwds: (dictionary) The keywords defining this source catalog</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">catalog</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyuvsim.simsetup.initialize_uvdata_from_params">
<code class="descclassname">pyuvsim.simsetup.</code><code class="descname">initialize_uvdata_from_params</code><span class="sig-paren">(</span><em>obs_params</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyuvsim/simsetup.html#initialize_uvdata_from_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyuvsim.simsetup.initialize_uvdata_from_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a uvdata object from parameters in a valid yaml file.</p>
<p>Sufficient information must be provided by the parameters to define time and frequency arrays
and verify the channel widths and time steps. This will error if insufficient or incompatible
parameters are defined.</p>
<p>The parameter dictionary may contain any valid UVData attributes as well.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>obs_params</strong> – Either an obs_param file name or a dictionary of parameters read in.
Any uvdata parameters may be passed in through here.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">uv_obj, beam_list, beam_dict, beam_ids</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyuvsim.simsetup.read_text_catalog">
<code class="descclassname">pyuvsim.simsetup.</code><code class="descname">read_text_catalog</code><span class="sig-paren">(</span><em>catalog_csv</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyuvsim/simsetup.html#read_text_catalog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyuvsim.simsetup.read_text_catalog" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in a text file of sources.</p>
<p>Args:
catalog_csv: csv file with the following expected columns:</p>
<blockquote>
<div><div class="line-block">
<div class="line">Source_ID: source id as a string of maximum 10 characters</div>
<div class="line">ra_j2000: right ascension at J2000 epoch, in decimal degrees</div>
<div class="line">dec_j2000: declination at J2000 epoch, in decimal degrees</div>
<div class="line">flux_density_I: Stokes I flux density in Janskys</div>
<div class="line">frequency: reference frequency (for future spectral indexing) [Hz]
For now, all sources are flat spectrum.</div>
</div>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">List of pyuvsim.Source objects</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyuvsim.simsetup.read_votable_catalog">
<code class="descclassname">pyuvsim.simsetup.</code><code class="descname">read_votable_catalog</code><span class="sig-paren">(</span><em>gleam_votable</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyuvsim/simsetup.html#read_votable_catalog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyuvsim.simsetup.read_votable_catalog" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a list of pyuvsim source objects from a votable catalog.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>gleam_votable</strong> – Path to votable catalog file.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">List of pyuvsim.Source objects</td>
</tr>
</tbody>
</table>
<p>Tested on: GLEAM EGC catalog, version 2</p>
</dd></dl>

<dl class="function">
<dt id="pyuvsim.simsetup.uvdata_to_config_file">
<code class="descclassname">pyuvsim.simsetup.</code><code class="descname">uvdata_to_config_file</code><span class="sig-paren">(</span><em>uvdata_in</em>, <em>param_filename=None</em>, <em>telescope_config_name=''</em>, <em>layout_csv_name=''</em>, <em>catalog='mock'</em>, <em>path_out='.'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyuvsim/simsetup.html#uvdata_to_config_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyuvsim.simsetup.uvdata_to_config_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract simulation configuration settings from uvfits.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>uvdata_in</strong> (<em>UVData</em>) – uvdata object.</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Keywords:</dt>
<dd>param_filename (str, optional): output param file name, defaults to obsparam_#.yaml.
telescope_config_name (str, optional): Name of yaml file file. Defaults to blank string.
layout_csv_name (str, optional): Name of layout csv file. Defaults to blank string.
catalog (str, optional): Path to catalog file, defaults to ‘mock’.
path_out (str, optional): Where to put config files.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyuvsim.simsetup.uvdata_to_telescope_config">
<code class="descclassname">pyuvsim.simsetup.</code><code class="descname">uvdata_to_telescope_config</code><span class="sig-paren">(</span><em>uvdata_in</em>, <em>beam_filepath</em>, <em>layout_csv_name=None</em>, <em>telescope_config_name=None</em>, <em>return_names=False</em>, <em>path_out='.'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyuvsim/simsetup.html#uvdata_to_telescope_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyuvsim.simsetup.uvdata_to_telescope_config" title="Permalink to this definition">¶</a></dt>
<dd><p>From a uvfits file, generate telescope parameters files.</p>
<p>Output config files are written to the current directory, unless keep_path is set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>uvdata_in</strong> (<em>UVData</em>) – object to process</li>
<li><strong>path_out</strong> (<em>str</em>) – Target directory for the config file.</li>
<li><strong>beam_filepath</strong> (<em>str</em>) – Path to a beamfits file.</li>
<li><strong>layout_csv_name</strong> (<em>str</em><em>, </em><em>optional</em>) – The name for the antenna positions
csv file (Default &lt;telescope_name&gt;_layout.csv)</li>
<li><strong>telescope_config_name</strong> (<em>str</em><em>, </em><em>optional</em>) – The name for the telescope config file
(Default teleconfig_#number.yaml)</li>
<li><strong>return_names</strong> (<em>bool</em><em>, </em><em>optional</em>) – Return the file names for loopback tests.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">if return_names, returns tuple (path, telescope_config_name, layout_csv_name)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyuvsim.simsetup.write_catalog_to_file">
<code class="descclassname">pyuvsim.simsetup.</code><code class="descname">write_catalog_to_file</code><span class="sig-paren">(</span><em>filename</em>, <em>catalog</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyuvsim/simsetup.html#write_catalog_to_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyuvsim.simsetup.write_catalog_to_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes out a catalog to a text file, readable with simsetup.read_catalog_text()</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> – Path to output file (string)</li>
<li><strong>catalog</strong> – List of pyuvsim.Source objects</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyuvsim.simsetup.write_uvfits">
<code class="descclassname">pyuvsim.simsetup.</code><code class="descname">write_uvfits</code><span class="sig-paren">(</span><em>uv_obj</em>, <em>param_dict</em>, <em>return_filename=False</em>, <em>dryrun=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyuvsim/simsetup.html#write_uvfits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyuvsim.simsetup.write_uvfits" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse output file information from parameters and write uvfits to file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>uv_obj</strong> – UVData object to write out.</li>
<li><strong>param_dict</strong> – parameter dictionary defining output path, filename, and
whether or not to clobber.</li>
<li><strong>return_filename</strong> – (Default false) Return the file path</li>
<li><strong>dryrun</strong> – (Default false) Don’t write to file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">File path, if return_filename is True</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="sources">
<h2>Sources<a class="headerlink" href="#sources" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pyuvsim.Source">
<em class="property">class </em><code class="descclassname">pyuvsim.</code><code class="descname">Source</code><span class="sig-paren">(</span><em>name</em>, <em>ra</em>, <em>dec</em>, <em>freq</em>, <em>stokes</em>, <em>pos_tol=2.220446049250313e-16</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyuvsim/source.html#Source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyuvsim.Source" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines a single point source at a given ICRS ra/dec coordinate, with a
flux density defined by stokes parameters.</p>
<p>Used to calculate local coherency matrix for source brightness in AltAz
frame at a specified time.</p>
<dl class="method">
<dt id="pyuvsim.Source.alt_az_calc">
<code class="descname">alt_az_calc</code><span class="sig-paren">(</span><em>time</em>, <em>telescope_location</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyuvsim/source.html#Source.alt_az_calc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyuvsim.Source.alt_az_calc" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate the altitude &amp; azimuth for this source at a time &amp; location</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>time</strong> – astropy Time object</li>
<li><strong>telescope_location</strong> – astropy EarthLocation object</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(altitude, azimuth) in radians</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyuvsim.Source.coherency_calc">
<code class="descname">coherency_calc</code><span class="sig-paren">(</span><em>time</em>, <em>telescope_location</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyuvsim/source.html#Source.coherency_calc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyuvsim.Source.coherency_calc" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the local coherency in alt/az basis for this source at a time &amp; location.</p>
<p>The coherency is a 2x2 matrix giving electric field correlation in Jy.
It’s specified on the object as a coherency in the ra/dec basis,
but must be rotated into local alt/az.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>time</strong> – astropy Time object</li>
<li><strong>telescope_location</strong> – astropy EarthLocation object</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">local coherency in alt/az basis</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyuvsim.Source.pos_lmn">
<code class="descname">pos_lmn</code><span class="sig-paren">(</span><em>time</em>, <em>telescope_location</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyuvsim/source.html#Source.pos_lmn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyuvsim.Source.pos_lmn" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate the direction cosines of this source at a time &amp; location</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>time</strong> – astropy Time object</li>
<li><strong>telescope_location</strong> – astropy EarthLocation object</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(l, m, n) direction cosine values</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="telescopes">
<h2>Telescopes<a class="headerlink" href="#telescopes" title="Permalink to this headline">¶</a></h2>
<p>Shared properties of all antennas, such as array center location and primary beam objects.</p>
<dl class="class">
<dt id="pyuvsim.Telescope">
<em class="property">class </em><code class="descclassname">pyuvsim.</code><code class="descname">Telescope</code><span class="sig-paren">(</span><em>telescope_name</em>, <em>telescope_location</em>, <em>beam_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyuvsim/telescope.html#Telescope"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyuvsim.Telescope" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the location and name of the observing site, and holds the list
of beam objects used by the array.</p>
</dd></dl>

</div>
<div class="section" id="uv-simulation-functions">
<h2>UV Simulation functions<a class="headerlink" href="#uv-simulation-functions" title="Permalink to this headline">¶</a></h2>
<p>Methods for setting up the simulation, handling concurrent MPI processes, and saving computed visibilities.</p>
<span class="target" id="module-pyuvsim.uvsim"></span><dl class="function">
<dt id="pyuvsim.uvsim.uvdata_to_task_list">
<code class="descclassname">pyuvsim.uvsim.</code><code class="descname">uvdata_to_task_list</code><span class="sig-paren">(</span><em>input_uv</em>, <em>sources</em>, <em>beam_list</em>, <em>beam_dict=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyuvsim/uvsim.html#uvdata_to_task_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyuvsim.uvsim.uvdata_to_task_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Create task list from pyuvdata compatible input file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>input_uv</strong> (<em>UVData</em>) – UVData object to use</li>
<li><strong>sources</strong> – array of Source objects</li>
<li><strong>beam_list</strong> – (list of UVBeam or AnalyticBeam objects</li>
<li><strong>beam_dict</strong> (<em>dict</em><em>, </em><em>optional</em>) – dict mapping antenna number to beam index in beam_list</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">List of task parameters to be send to UVEngines with the task
parameters defined in UVTask objectself.
This function extracts time, freq, Antenna1, Antenna2.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyuvsim.uvsim.run_uvsim">
<code class="descclassname">pyuvsim.uvsim.</code><code class="descname">run_uvsim</code><span class="sig-paren">(</span><em>input_uv</em>, <em>beam_list</em>, <em>beam_dict=None</em>, <em>catalog_file=None</em>, <em>mock_keywords=None</em>, <em>uvdata_file=None</em>, <em>obs_param_file=None</em>, <em>telescope_config_file=None</em>, <em>antenna_location_file=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyuvsim/uvsim.html#run_uvsim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyuvsim.uvsim.run_uvsim" title="Permalink to this definition">¶</a></dt>
<dd><p>Run uvsim</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>input_uv</strong> – An input UVData object, containing baseline/time/frequency information.</li>
<li><strong>beam_list</strong> – A list of UVBeam and/or AnalyticBeam objects</li>
<li><strong>beam_dict</strong> – Dictionary of {antenna_name : beam_ID}, where beam_id is an index in
the beam_list. This assigns beams to antennas.
Default: All antennas get the 0th beam in the beam_list.</li>
<li><strong>catalog_file</strong> – Catalog file name.
Default: Create a mock catalog</li>
<li><strong>mock_keywords</strong> – Settings for a mock catalog (see keywords of create_mock_catalog)</li>
<li><strong>uvdata_file</strong> – Name of input UVData file if running from a file.</li>
<li><strong>obs_param_file</strong> – Parameter filename if running from config files.</li>
<li><strong>telescope_config_file</strong> – Telescope configuration file if running from config files.</li>
<li><strong>antenna_location_file</strong> – antenna_location file if running from config files.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyuvsim.uvsim.initialize_uvdata">
<code class="descclassname">pyuvsim.uvsim.</code><code class="descname">initialize_uvdata</code><span class="sig-paren">(</span><em>uvtask_list</em>, <em>source_list_name</em>, <em>uvdata_file=None</em>, <em>obs_param_file=None</em>, <em>telescope_config_file=None</em>, <em>antenna_location_file=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyuvsim/uvsim.html#initialize_uvdata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyuvsim.uvsim.initialize_uvdata" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize an empty uvdata object to fill with simulation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>uvtask_list</strong> – List of uvtasks to simulate.</li>
<li><strong>source_list_name</strong> – Name of source list file or mock catalog.</li>
<li><strong>uvdata_file</strong> – Name of input UVData file or None if initializing from
config files.</li>
<li><strong>obs_param_file</strong> – Name of observation parameter config file or None if
initializing from a UVData file.</li>
<li><strong>telescope_config_file</strong> – Name of telescope config file or None if
initializing from a UVData file.</li>
<li><strong>antenna_location_file</strong> – Name of antenna location file or None if
initializing from a UVData file.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyuvsim.uvsim.serial_gather">
<code class="descclassname">pyuvsim.uvsim.</code><code class="descname">serial_gather</code><span class="sig-paren">(</span><em>uvtask_list</em>, <em>uv_out</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyuvsim/uvsim.html#serial_gather"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyuvsim.uvsim.serial_gather" title="Permalink to this definition">¶</a></dt>
<dd><p>Loop over uvtask list, acquire visibilities and add to uvdata object.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Full class list and documentation</a><ul>
<li><a class="reference internal" href="#primary-beams">Primary Beams</a></li>
<li><a class="reference internal" href="#antenna-objects">Antenna objects</a></li>
<li><a class="reference internal" href="#profiling">Profiling</a></li>
<li><a class="reference internal" href="#simulation-setup">Simulation setup</a></li>
<li><a class="reference internal" href="#sources">Sources</a></li>
<li><a class="reference internal" href="#telescopes">Telescopes</a></li>
<li><a class="reference internal" href="#uv-simulation-functions">UV Simulation functions</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="parameter_files.html"
                        title="previous chapter">Parameter and configuration Files</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/classes.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="parameter_files.html" title="Parameter and configuration Files"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyuvsim  documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Radio Astronomy Software Group.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.5.
    </div>
  </body>
</html>
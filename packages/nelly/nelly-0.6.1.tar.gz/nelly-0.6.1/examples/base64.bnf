include "constants.bnf"

<%pre
    import base64
%>

DEMO(start)
    : INPUT "\n" %str(B1) "\n" $B2
    ;

B1: %base64.b64encode(%bytes(\INPUT,'utf-8'));

$B2: \INPUT <% $* = base64.b64encode($$.encode('utf-8')) %>;

INPUT: ("A"|"a"){5,10};

<%post
    print($$.decode('utf-8'))
%>

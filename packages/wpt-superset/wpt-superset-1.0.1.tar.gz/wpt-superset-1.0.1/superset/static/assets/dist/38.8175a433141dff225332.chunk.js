(window.webpackJsonp=window.webpackJsonp||[]).push([[38,40],{1240:function(e,t,r){"use strict";(function(e){r.d(t,"b",function(){return s}),r.d(t,"d",function(){return n}),r.d(t,"a",function(){return l}),r.d(t,"c",function(){return c});var o,a=r(56);(o=r(2).enterModule)&&o(e);var s={longitude:6.85236157047845,latitude:31.222656842808707,zoom:1,bearing:0,pitch:0},_=1609.34;function n(e,t){return"square_m"===e?Math.sqrt(t/Math.PI):"radius_m"===e?t:"radius_km"===e?1e3*t:"radius_miles"===e?t*_:"square_km"===e?1e3*Math.sqrt(t/Math.PI):"square_miles"===e?Math.sqrt(t/Math.PI)*_:null}var i,u,p=40075.16,l=1.60934;function c(e,t,r){var o=t*(Math.PI/180),s=p*Math.cos(o)/Math.pow(2,r+9);return Object(a.g)(e/s,2)}i=r(2).default,u=r(2).leaveModule,i&&(i.register(s,"defaultViewport","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/modules/geo.js"),i.register(_,"METER_TO_MILE","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/modules/geo.js"),i.register(n,"unitToRadius","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/modules/geo.js"),i.register(p,"EARTH_CIRCUMFERENCE_KM","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/modules/geo.js"),i.register(l,"MILES_PER_KM","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/modules/geo.js"),i.register(c,"kmToPixels","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/modules/geo.js"),u(e))}).call(this,r(11)(e))},1764:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"DEFAULT_MAX_ZOOM",function(){return DEFAULT_MAX_ZOOM}),__webpack_require__.d(__webpack_exports__,"DEFAULT_POINT_RADIUS",function(){return DEFAULT_POINT_RADIUS});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),react_map_gl__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2649),immutable__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1688),immutable__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(immutable__WEBPACK_IMPORTED_MODULE_3__),viewport_mercator_project__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2765),_ScatterPlotGlowOverlay__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2719),_MapBox_css__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2720),_MapBox_css__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_MapBox_css__WEBPACK_IMPORTED_MODULE_6__),enterModule;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}enterModule=__webpack_require__(2).enterModule,enterModule&&enterModule(module);var NOOP=function(){},DEFAULT_MAX_ZOOM=16,DEFAULT_POINT_RADIUS=60,propTypes={width:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,height:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,aggregatorName:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,clusterer:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object,globalOpacity:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,mapStyle:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,mapboxApiKey:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,onViewportChange:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,pointRadius:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,pointRadiusUnit:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,renderWhileDragging:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,rgb:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array,bounds:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array},defaultProps={globalOpacity:1,onViewportChange:NOOP,pointRadius:DEFAULT_POINT_RADIUS,pointRadiusUnit:"Pixels"},MapBox=function(_React$Component){function MapBox(e){var t;_classCallCheck(this,MapBox);var r=(t=_possibleConstructorReturn(this,_getPrototypeOf(MapBox).call(this,e))).props,o=r.width,a=r.height,s=r.bounds,_=new viewport_mercator_project__WEBPACK_IMPORTED_MODULE_4__.a({width:o,height:a}).fitBounds(s),n=_.latitude,i=_.longitude,u=_.zoom;return t.state={viewport:{longitude:i,latitude:n,zoom:u}},t.onViewportChange=t.onViewportChange.bind(_assertThisInitialized(_assertThisInitialized(t))),t}return _inherits(MapBox,_React$Component),_createClass(MapBox,[{key:"onViewportChange",value:function(e){this.setState({viewport:e}),this.props.onViewportChange(e)}},{key:"render",value:function(){var e=this.props,t=e.width,r=e.height,o=e.aggregatorName,a=e.globalOpacity,s=e.mapStyle,_=e.mapboxApiKey,n=e.pointRadius,i=e.pointRadiusUnit,u=e.renderWhileDragging,p=e.rgb,l=e.hasCustomMetric,c=e.bounds,d=this.state.viewport,h=void 0!==d.isDragging&&d.isDragging,f=[c[0][0],c[0][1],c[1][0],c[1][1]],m=this.props.clusterer.getClusters(f,Math.round(d.zoom));return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_map_gl__WEBPACK_IMPORTED_MODULE_2__.a,_extends({},d,{mapStyle:s,width:t,height:r,mapboxApiAccessToken:_,onViewportChange:this.onViewportChange}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ScatterPlotGlowOverlay__WEBPACK_IMPORTED_MODULE_5__.a,_extends({},d,{isDragging:h,width:t,height:r,locations:immutable__WEBPACK_IMPORTED_MODULE_3___default.a.fromJS(m),dotRadius:n,pointRadiusUnit:i,rgb:p,globalOpacity:a,compositeOperation:"screen",renderWhileDragging:u,aggregation:l?o:null,lngLatAccessor:function(e){var t=e.get("geometry").get("coordinates");return[t.get(0),t.get(1)]}})))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),MapBox}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);MapBox.propTypes=propTypes,MapBox.defaultProps=defaultProps;var _default=MapBox,reactHotLoader,leaveModule;__webpack_exports__.default=_default,reactHotLoader=__webpack_require__(2).default,leaveModule=__webpack_require__(2).leaveModule,reactHotLoader&&(reactHotLoader.register(NOOP,"NOOP","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/MapBox/MapBox.jsx"),reactHotLoader.register(DEFAULT_MAX_ZOOM,"DEFAULT_MAX_ZOOM","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/MapBox/MapBox.jsx"),reactHotLoader.register(DEFAULT_POINT_RADIUS,"DEFAULT_POINT_RADIUS","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/MapBox/MapBox.jsx"),reactHotLoader.register(propTypes,"propTypes","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/MapBox/MapBox.jsx"),reactHotLoader.register(defaultProps,"defaultProps","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/MapBox/MapBox.jsx"),reactHotLoader.register(MapBox,"MapBox","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/MapBox/MapBox.jsx"),reactHotLoader.register(_default,"default","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/MapBox/MapBox.jsx"),leaveModule(module))}.call(this,__webpack_require__(11)(module))},1810:function(e,t,r){"use strict";r.r(t),function(e){r.d(t,"default",function(){return i});var o,a,s,_=r(2989),n=r(1764);function i(e){var t=e.width,r=e.height,o=e.formData,a=e.onError,s=e.payload,i=e.setControlValue,u=s.data,p=u.bounds,l=u.geoJSON,c=u.hasCustomMetric,d=u.mapboxApiKey,h=o.clusteringRadius,f=o.globalOpacity,m=o.mapboxColor,g=o.mapboxStyle,M=o.pandasAggfunc,O=o.pointRadius,E=o.pointRadiusUnit,b=o.renderWhileDragging,y=/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/.exec(m);if(null===y)return a("Color field must be of form 'rgb(%d, %d, %d)'"),{};var P={radius:h,maxZoom:n.DEFAULT_MAX_ZOOM};c&&(P.initial=function(){return{sum:0,squaredSum:0,min:1/0,max:-1/0}},P.map=function(e){return{sum:e.metric,squaredSum:Math.pow(e.metric,2),min:e.metric,max:e.metric}},P.reduce=function(e,t){e.sum+=t.sum,e.squaredSum+=t.squaredSum,e.min=Math.min(e.min,t.min),e.max=Math.max(e.max,t.max)});var v=Object(_.a)(P);return v.load(l.features),{width:t,height:r,aggregatorName:M,bounds:p,clusterer:v,globalOpacity:f,hasCustomMetric:c,mapboxApiKey:d,mapStyle:g,onViewportChange:function(e){var t=e.latitude,r=e.longitude,o=e.zoom;i("viewport_longitude",r),i("viewport_latitude",t),i("viewport_zoom",o)},pointRadius:"Auto"===O?n.DEFAULT_POINT_RADIUS:O,pointRadiusUnit:E,renderWhileDragging:b,rgb:y}}(o=r(2).enterModule)&&o(e),a=r(2).default,s=r(2).leaveModule,a&&(a.register(i,"transformProps","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/MapBox/transformProps.js"),s(e))}.call(this,r(11)(e))},2719:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var immutable__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1688),immutable__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(immutable__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),viewport_mercator_project__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2765),_modules_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(56),_modules_geo__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1240),_utils_common__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(314),enterModule;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}enterModule=__webpack_require__(2).enterModule,enterModule&&enterModule(module);var propTypes={aggregation:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,locations:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.instanceOf(immutable__WEBPACK_IMPORTED_MODULE_0___default.a.List).isRequired,lngLatAccessor:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func,renderWhileDragging:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,globalOpacity:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,dotRadius:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,dotFill:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,compositeOperation:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string},defaultProps={lngLatAccessor:function(e){return[e.get(0),e.get(1)]},renderWhileDragging:!0,dotRadius:4,dotFill:"#1FBAD6",globalOpacity:1,compositeOperation:"source-over"},contextTypes={viewport:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object,isDragging:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool},computeClusterLabel=function(e,t){var r=e.get("point_count");if(!t)return r;if("sum"===t||"min"===t||"max"===t)return e.get(t);var o=e.get("sum"),a=o/r;if("mean"===t)return Math.round(100*a)/100;var s=e.get("squaredSum")/r-Math.pow(o/r,2);return"var"===t?Math.round(100*s)/100:"stdev"===t?Math.round(100*Math.sqrt(s))/100:r},ScatterPlotGlowOverlay=function(_React$Component){function ScatterPlotGlowOverlay(e){var t;return _classCallCheck(this,ScatterPlotGlowOverlay),(t=_possibleConstructorReturn(this,_getPrototypeOf(ScatterPlotGlowOverlay).call(this,e))).setCanvasRef=t.setCanvasRef.bind(_assertThisInitialized(_assertThisInitialized(t))),t}return _inherits(ScatterPlotGlowOverlay,_React$Component),_createClass(ScatterPlotGlowOverlay,[{key:"componentDidMount",value:function(){this.redraw()}},{key:"componentDidUpdate",value:function(){this.redraw()}},{key:"setCanvasRef",value:function(e){this.canvas=e}},{key:"drawText",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.fontHeight,a=void 0===o?0:o,s=r.label,_=void 0===s?"":s,n=r.radius,i=void 0===n?0:n,u=r.rgb,p=void 0===u?[0,0,0]:u,l=r.shadow,c=void 0!==l&&l,d=1.8*i,h=Object(_utils_common__WEBPACK_IMPORTED_MODULE_6__.d)(p[1],p[2],p[3]);e.globalCompositeOperation="source-over",e.fillStyle=h<=110?"white":"black",e.font=a+"px sans-serif",e.textAlign="center",e.textBaseline="middle",c&&(e.shadowBlur=15,e.shadowColor=h<=110?"black":"");var f=e.measureText(_).width;if(f>d){var m=a/f;e.font=m*d+"px sans-serif"}e.fillText(_,t[0],t[1]),e.globalCompositeOperation=this.props.compositeOperation,e.shadowBlur=0,e.shadowColor=""}},{key:"redraw",value:function(){var e=this.props,t=window.devicePixelRatio||1,r=this.canvas.getContext("2d"),o=e.dotRadius,a=new viewport_mercator_project__WEBPACK_IMPORTED_MODULE_3__.a(e),s=e.rgb,_=[];e.locations.forEach(function(t,r){t.get("properties").get("cluster")&&(_[r]=computeClusterLabel(t.get("properties"),e.aggregation))},this);var n=Math.max.apply(Math,_toConsumableArray(Object.values(_)));r.save(),r.scale(t,t),r.clearRect(0,0,e.width,e.height),r.globalCompositeOperation=e.compositeOperation,!e.renderWhileDragging&&e.isDragging||!e.locations||e.locations.forEach(function(t,i){var u=a.project(e.lngLatAccessor(t)),p=[Object(_modules_utils__WEBPACK_IMPORTED_MODULE_4__.g)(u[0],1),Object(_modules_utils__WEBPACK_IMPORTED_MODULE_4__.g)(u[1],1)];if(p[0]+o>=0&&p[0]-o<e.width&&p[1]+o>=0&&p[1]-o<e.height)if(r.beginPath(),t.get("properties").get("cluster")){var l=_[i],c=Object(_modules_utils__WEBPACK_IMPORTED_MODULE_4__.g)(Math.pow(l/n,.5)*o,1),d=Object(_modules_utils__WEBPACK_IMPORTED_MODULE_4__.g)(.5*c,1),h=r.createRadialGradient(p[0],p[1],c,p[0],p[1],0);h.addColorStop(1,"rgba("+s[1]+", "+s[2]+", "+s[3]+", 0.8)"),h.addColorStop(0,"rgba("+s[1]+", "+s[2]+", "+s[3]+", 0)"),r.arc(p[0],p[1],c,0,2*Math.PI),r.fillStyle=h,r.fill(),Number.isFinite(parseFloat(l))&&(l>=1e4?l=Math.round(l/1e3)+"k":l>=1e3&&(l=Math.round(l/100)/10+"k"),this.drawText(r,p,{fontHeight:d,label:l,radius:c,rgb:s,shadow:!0}))}else{var f,m=o/6,g=t.get("properties").get("radius"),M=t.get("properties").get("metric"),O=null===g?m:g;if(null!==g){var E=e.lngLatAccessor(t)[1];"Kilometers"===e.pointRadiusUnit?(f=Object(_modules_utils__WEBPACK_IMPORTED_MODULE_4__.g)(O,2)+"km",O=Object(_modules_geo__WEBPACK_IMPORTED_MODULE_5__.c)(O,E,e.zoom)):"Miles"===e.pointRadiusUnit&&(f=Object(_modules_utils__WEBPACK_IMPORTED_MODULE_4__.g)(O,2)+"mi",O=Object(_modules_geo__WEBPACK_IMPORTED_MODULE_5__.c)(O*_modules_geo__WEBPACK_IMPORTED_MODULE_5__.a,E,e.zoom))}null!==M&&(f=Number.isFinite(parseFloat(M))?Object(_modules_utils__WEBPACK_IMPORTED_MODULE_4__.g)(M,2):M),O||(O=m),r.arc(p[0],p[1],Object(_modules_utils__WEBPACK_IMPORTED_MODULE_4__.g)(O,1),0,2*Math.PI),r.fillStyle="rgb("+s[1]+", "+s[2]+", "+s[3]+")",r.fill(),void 0!==f&&this.drawText(r,p,{fontHeight:Object(_modules_utils__WEBPACK_IMPORTED_MODULE_4__.g)(O,1),label:f,radius:O,rgb:s,shadow:!1})}},this),r.restore()}},{key:"render",value:function(){var e=0,t=0;this.context.viewport&&(e=this.context.viewport.width,t=this.context.viewport.height);var r=this.props.globalOpacity,o=window.devicePixelRatio||1;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("canvas",{ref:this.setCanvasRef,width:e*o,height:t*o,style:{width:"".concat(e,"px"),height:"".concat(t,"px"),position:"absolute",pointerEvents:"none",opacity:r,left:0,top:0}})}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ScatterPlotGlowOverlay}(react__WEBPACK_IMPORTED_MODULE_1___default.a.Component);ScatterPlotGlowOverlay.propTypes=propTypes,ScatterPlotGlowOverlay.defaultProps=defaultProps,ScatterPlotGlowOverlay.contextTypes=contextTypes;var _default=ScatterPlotGlowOverlay,reactHotLoader,leaveModule;__webpack_exports__.a=_default,reactHotLoader=__webpack_require__(2).default,leaveModule=__webpack_require__(2).leaveModule,reactHotLoader&&(reactHotLoader.register(propTypes,"propTypes","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/MapBox/ScatterPlotGlowOverlay.jsx"),reactHotLoader.register(defaultProps,"defaultProps","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/MapBox/ScatterPlotGlowOverlay.jsx"),reactHotLoader.register(contextTypes,"contextTypes","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/MapBox/ScatterPlotGlowOverlay.jsx"),reactHotLoader.register(computeClusterLabel,"computeClusterLabel","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/MapBox/ScatterPlotGlowOverlay.jsx"),reactHotLoader.register(ScatterPlotGlowOverlay,"ScatterPlotGlowOverlay","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/MapBox/ScatterPlotGlowOverlay.jsx"),reactHotLoader.register(_default,"default","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/MapBox/ScatterPlotGlowOverlay.jsx"),leaveModule(module))}).call(this,__webpack_require__(11)(module))},2720:function(e,t,r){},2989:function(e,t,r){"use strict";function o(e,t,r,s,_,n){if(!(_-s<=r)){var i=Math.floor((s+_)/2);!function e(t,r,o,s,_,n){for(;_>s;){if(_-s>600){var i=_-s+1,u=o-s+1,p=Math.log(i),l=.5*Math.exp(2*p/3),c=.5*Math.sqrt(p*l*(i-l)/i)*(u-i/2<0?-1:1),d=Math.max(s,Math.floor(o-u*l/i+c)),h=Math.min(_,Math.floor(o+(i-u)*l/i+c));e(t,r,o,d,h,n)}var f=r[2*o+n],m=s,g=_;for(a(t,r,s,o),r[2*_+n]>f&&a(t,r,s,_);m<g;){for(a(t,r,m,g),m++,g--;r[2*m+n]<f;)m++;for(;r[2*g+n]>f;)g--}r[2*s+n]===f?a(t,r,s,g):a(t,r,++g,_),g<=o&&(s=g+1),o<=g&&(_=g-1)}}(e,t,i,s,_,n%2),o(e,t,r,s,i-1,n+1),o(e,t,r,i+1,_,n+1)}}function a(e,t,r,o){s(e,r,o),s(t,2*r,2*o),s(t,2*r+1,2*o+1)}function s(e,t,r){var o=e[t];e[t]=e[r],e[r]=o}function _(e,t,r,o){var a=e-r,s=t-o;return a*a+s*s}function n(e,t,r,o,a){return new i(e,t,r,o,a)}function i(e,t,r,a,s){t=t||u,r=r||p,s=s||Array,this.nodeSize=a||64,this.points=e,this.ids=new s(e.length),this.coords=new s(2*e.length);for(var _=0;_<e.length;_++)this.ids[_]=_,this.coords[2*_]=t(e[_]),this.coords[2*_+1]=r(e[_]);o(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function u(e){return e[0]}function p(e){return e[1]}function l(e){return new c(e)}function c(e){this.options=M(Object.create(this.options),e),this.trees=new Array(this.options.maxZoom+1)}function d(e,t,r,o,a){return{x:e,y:t,zoom:1/0,id:r,parentId:-1,numPoints:o,properties:a}}function h(e){return{type:"Feature",id:e.id,properties:f(e),geometry:{type:"Point",coordinates:[(o=e.x,360*(o-.5)),(t=e.y,r=(180-360*t)*Math.PI/180,360*Math.atan(Math.exp(r))/Math.PI-90)]}};var t,r,o}function f(e){var t=e.numPoints,r=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return M(M({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:r})}function m(e){return e/360+.5}function g(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function M(e,t){for(var r in t)e[r]=t[r];return e}function O(e){return e.x}function E(e){return e.y}i.prototype={range:function(e,t,r,o){return function(e,t,r,o,a,s,_){for(var n,i,u=[0,e.length-1,0],p=[];u.length;){var l=u.pop(),c=u.pop(),d=u.pop();if(c-d<=_)for(var h=d;h<=c;h++)n=t[2*h],i=t[2*h+1],n>=r&&n<=a&&i>=o&&i<=s&&p.push(e[h]);else{var f=Math.floor((d+c)/2);n=t[2*f],i=t[2*f+1],n>=r&&n<=a&&i>=o&&i<=s&&p.push(e[f]);var m=(l+1)%2;(0===l?r<=n:o<=i)&&(u.push(d),u.push(f-1),u.push(m)),(0===l?a>=n:s>=i)&&(u.push(f+1),u.push(c),u.push(m))}}return p}(this.ids,this.coords,e,t,r,o,this.nodeSize)},within:function(e,t,r){return function(e,t,r,o,a,s){for(var n=[0,e.length-1,0],i=[],u=a*a;n.length;){var p=n.pop(),l=n.pop(),c=n.pop();if(l-c<=s)for(var d=c;d<=l;d++)_(t[2*d],t[2*d+1],r,o)<=u&&i.push(e[d]);else{var h=Math.floor((c+l)/2),f=t[2*h],m=t[2*h+1];_(f,m,r,o)<=u&&i.push(e[h]);var g=(p+1)%2;(0===p?r-a<=f:o-a<=m)&&(n.push(c),n.push(h-1),n.push(g)),(0===p?r+a>=f:o+a>=m)&&(n.push(h+1),n.push(l),n.push(g))}}return i}(this.ids,this.coords,e,t,r,this.nodeSize)}},r.d(t,"a",function(){return l}),c.prototype={options:{minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,reduce:null,initial:function(){return{}},map:function(e){return e}},load:function(e){var t=this.options.log;t&&console.time("total time");var r="prepare "+e.length+" points";t&&console.time(r),this.points=e;for(var o,a,s,_=[],i=0;i<e.length;i++)e[i].geometry&&_.push((o=e[i],a=i,s=void 0,{x:m((s=o.geometry.coordinates)[0]),y:g(s[1]),zoom:1/0,index:a,parentId:-1}));this.trees[this.options.maxZoom+1]=n(_,O,E,this.options.nodeSize,Float32Array),t&&console.timeEnd(r);for(var u=this.options.maxZoom;u>=this.options.minZoom;u--){var p=+Date.now();_=this._cluster(_,u),this.trees[u]=n(_,O,E,this.options.nodeSize,Float32Array),t&&console.log("z%d: %d clusters in %dms",u,_.length,+Date.now()-p)}return t&&console.timeEnd("total time"),this},getClusters:function(e,t){var r=((e[0]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[1])),a=180===e[2]?180:((e[2]+180)%360+360)%360-180,s=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,a=180;else if(r>a){var _=this.getClusters([r,o,180,s],t),n=this.getClusters([-180,o,a,s],t);return _.concat(n)}for(var i=this.trees[this._limitZoom(t)],u=i.range(m(r),g(s),m(a),g(o)),p=[],l=0;l<u.length;l++){var c=i.points[u[l]];p.push(c.numPoints?h(c):this.points[c.index])}return p},getChildren:function(e){var t=e>>5,r=e%32,o="No cluster with the specified id.",a=this.trees[r];if(!a)throw new Error(o);var s=a.points[t];if(!s)throw new Error(o);for(var _=this.options.radius/(this.options.extent*Math.pow(2,r-1)),n=a.within(s.x,s.y,_),i=[],u=0;u<n.length;u++){var p=a.points[n[u]];p.parentId===e&&i.push(p.numPoints?h(p):this.points[p.index])}if(0===i.length)throw new Error(o);return i},getLeaves:function(e,t,r){t=t||10,r=r||0;var o=[];return this._appendLeaves(o,e,t,r,0),o},getTile:function(e,t,r){var o=this.trees[this._limitZoom(e)],a=Math.pow(2,e),s=this.options.extent,_=this.options.radius/s,n=(r-_)/a,i=(r+1+_)/a,u={features:[]};return this._addTileFeatures(o.range((t-_)/a,n,(t+1+_)/a,i),o.points,t,r,a,u),0===t&&this._addTileFeatures(o.range(1-_/a,n,1,i),o.points,a,r,a,u),t===a-1&&this._addTileFeatures(o.range(0,n,_/a,i),o.points,-1,r,a,u),u.features.length?u:null},getClusterExpansionZoom:function(e){for(var t=e%32-1;t<this.options.maxZoom;){var r=this.getChildren(e);if(t++,1!==r.length)break;e=r[0].properties.cluster_id}return t},_appendLeaves:function(e,t,r,o,a){for(var s=this.getChildren(t),_=0;_<s.length;_++){var n=s[_].properties;if(n&&n.cluster?a+n.point_count<=o?a+=n.point_count:a=this._appendLeaves(e,n.cluster_id,r,o,a):a<o?a++:e.push(s[_]),e.length===r)break}return a},_addTileFeatures:function(e,t,r,o,a,s){for(var _=0;_<e.length;_++){var n=t[e[_]],i={type:1,geometry:[[Math.round(this.options.extent*(n.x*a-r)),Math.round(this.options.extent*(n.y*a-o))]],tags:n.numPoints?f(n):this.points[n.index].properties},u=n.numPoints?n.id:this.points[n.index].id;void 0!==u&&(i.id=u),s.features.push(i)}},_limitZoom:function(e){return Math.max(this.options.minZoom,Math.min(e,this.options.maxZoom+1))},_cluster:function(e,t){for(var r=[],o=this.options.radius/(this.options.extent*Math.pow(2,t)),a=0;a<e.length;a++){var s=e[a];if(!(s.zoom<=t)){s.zoom=t;var _=this.trees[t+1],n=_.within(s.x,s.y,o),i=s.numPoints||1,u=s.x*i,p=s.y*i,l=null;this.options.reduce&&(l=this.options.initial(),this._accumulate(l,s));for(var c=(a<<5)+(t+1),h=0;h<n.length;h++){var f=_.points[n[h]];if(!(f.zoom<=t)){f.zoom=t;var m=f.numPoints||1;u+=f.x*m,p+=f.y*m,i+=m,f.parentId=c,this.options.reduce&&this._accumulate(l,f)}}1===i?r.push(s):(s.parentId=c,r.push(d(u/i,p/i,c,i,l)))}}return r},_accumulate:function(e,t){var r=t.numPoints?t.properties:this.options.map(this.points[t.index].properties);this.options.reduce(e,r)}}},56:function(e,t,r){"use strict";(function(e){r.d(t,"h",function(){return n}),r.d(t,"a",function(){return l}),r.d(t,"c",function(){return c}),r.d(t,"b",function(){return d}),r.d(t,"d",function(){return h}),r.d(t,"e",function(){return f}),r.d(t,"f",function(){return m}),r.d(t,"g",function(){return g});var o,a=r(53),s=r.n(a),_=r(326);function n(e,t,r){e.each(function(){for(var e,o=Object(_.a)(this),a=o.text().split(/\s+/),s=[],n=0,i=o.attr("x"),u=o.attr("y"),p=parseFloat(o.attr("dy")),l=o.text(null).append("tspan").attr("x",i).attr("y",u).attr("dy",p+"em"),c=!1,d=0;d<a.length;d++)e=a[d],s.push(e),l.text(s.join(" ")),l.node().getComputedTextLength()>t&&(s.pop(),l.text(s.join(" ")),s=[e],l=o.append("tspan").attr("x",i).attr("y",u).attr("dy",1*++n+p+"em").text(e),c=!0);c||void 0===r||l.attr("y",r)})}function i(e){e.modalSelector=e.modalSelector||".misc-modal",e.titleSelector=e.titleSelector||".misc-modal .modal-title",e.bodySelector=e.bodySelector||".misc-modal .modal-body",s()(e.titleSelector).html(e.title||""),s()(e.bodySelector).html(e.body||""),s()(e.modalSelector).modal("show")}(o=r(2).enterModule)&&o(e);var u,p,l=function(e,t){var r=e.find(".dataTables_scrollHead").height(),o=e.find(".dataTables_filter").height()||0,a=e.find(".dataTables_length").height()||0,s=e.find(".dataTables_paginate").height()||0,_=a>o?a:o;e.find(".dataTables_scrollBody").css("max-height",t-r-_-s)};function c(e,t){for(var r=[],o=e;o<=t;o++)r.push([o,o.toString()]);return r}function d(e){return e.map(function(e){return[e,e.toString()]})}function h(e,t){return"".concat(e,"__").concat(t)}function f(e){var t=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),r=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.search);return null===r?"":decodeURIComponent(r[1].replace(/\+/g," "))}function m(e){var t;return e&&e.length>0&&(e.forEach(function(e){"count"===e.metric_name&&(t="count")}),t||(t=e[0].metric_name)),t}function g(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)}u=r(2).default,p=r(2).leaveModule,u&&(u.register(n,"wrapSvgText","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/modules/utils.js"),u.register(i,"showModal","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/modules/utils.js"),u.register(l,"fixDataTableBodyHeight","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/modules/utils.js"),u.register(c,"formatSelectOptionsForRange","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/modules/utils.js"),u.register(d,"formatSelectOptions","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/modules/utils.js"),u.register(h,"getDatasourceParameter","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/modules/utils.js"),u.register(f,"getParam","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/modules/utils.js"),u.register(m,"mainMetric","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/modules/utils.js"),u.register(g,"roundDecimal","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/modules/utils.js"),p(e))}).call(this,r(11)(e))}}]);
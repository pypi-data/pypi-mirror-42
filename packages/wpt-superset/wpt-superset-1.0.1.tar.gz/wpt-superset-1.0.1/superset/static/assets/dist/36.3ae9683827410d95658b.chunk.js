(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{1757:function(e,t,r){"use strict";r.r(t),function(e){r.d(t,"getLayer",function(){return g});var o,n=r(1),s=r.n(n),a=r(0),i=r.n(a),c=r(2634),u=r(2633),l=r(2629),_=r(2627),p=r(2626);function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(t){f(e,t,r[t])})}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(o=r(2).enterModule)&&o(e);var b,y={fillColor:"fillColor",color:"fillColor",fill:"fillColor","fill-color":"fillColor",strokeColor:"strokeColor","stroke-color":"strokeColor","stroke-width":"strokeWidth"},h=function(e,t){var r={};return Object.keys(e).forEach(function(t){t in y?r[y[t]]=e[t]:r[t]=e[t]}),"string"==typeof e.fillColor&&(r.fillColor=Object(l.hexToRGB)(e.fillColor)),"string"==typeof e.strokeColor&&(r.strokeColor=Object(l.hexToRGB)(e.strokeColor)),d({},r,t)},m=function e(t,r,o){if(t&&t.features&&t.features.forEach(function(n){e(n,r,t.extraProps||o)}),t&&t.geometry){var n=d({},t,{properties:h(t.properties,r)});n.extraProps||(n.extraProps=o),b.push(n)}};function g(e,t,r,o){var n,s=e,a=s.fill_color_picker,i=s.stroke_color_picker,u=[a.r,a.g,a.b,255*a.a],l=[i.r,i.g,i.b,255*i.a],f={};return u[3]>0&&(f.fillColor=u),l[3]>0&&(f.strokeColor=l),b=[],m(t.data,f),s.js_data_mutator&&(n=Object(_.a)(s.js_data_mutator),b=n(b)),new c.b(d({id:"geojson-layer-".concat(s.slice_id),filled:s.filled,data:b,stroked:s.stroked,extruded:s.extruded,pointRadiusScale:s.point_radius_scale},Object(p.a)(s,o)))}var v={formData:i.a.object.isRequired,payload:i.a.object.isRequired,setControlValue:i.a.func.isRequired,viewport:i.a.object.isRequired,onAddFilter:i.a.func,setTooltip:i.a.func},O={onAddFilter:function(){},setTooltip:function(){}};function E(e){var t=e.formData,r=e.payload,o=e.setControlValue,n=(e.onAddFilter,e.setTooltip),a=e.viewport,i=g(t,r,0,n);return s.a.createElement(u.a,{mapboxApiAccessToken:r.data.mapboxApiKey,viewport:a,layers:[i],mapStyle:t.mapbox_style,setControlValue:o})}E.propTypes=v,E.defaultProps=O;var k,P,j=E;t.default=j,k=r(2).default,P=r(2).leaveModule,k&&(k.register(y,"propertyMap","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/deckgl/layers/Geojson/Geojson.jsx"),k.register(h,"alterProps","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/deckgl/layers/Geojson/Geojson.jsx"),k.register(b,"features","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/deckgl/layers/Geojson/Geojson.jsx"),k.register(m,"recurseGeoJson","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/deckgl/layers/Geojson/Geojson.jsx"),k.register(g,"getLayer","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/deckgl/layers/Geojson/Geojson.jsx"),k.register(v,"propTypes","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/deckgl/layers/Geojson/Geojson.jsx"),k.register(O,"defaultProps","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/deckgl/layers/Geojson/Geojson.jsx"),k.register(E,"deckGeoJson","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/deckgl/layers/Geojson/Geojson.jsx"),k.register(j,"default","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/deckgl/layers/Geojson/Geojson.jsx"),P(e))}.call(this,r(11)(e))},257:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},2626:function(e,t,r){"use strict";(function(e){r.d(t,"b",function(){return _}),r.d(t,"a",function(){return p}),r.d(t,"c",function(){return y});var o,n=r(1),s=r.n(n),a=r(2923),i=r(21),c=r(2627);function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){var t=i.extent(e,function(e){return e[1]}),r=i.extent(e,function(e){return e[0]});return[[r[0],t[0]],[r[1],t[1]]]}function _(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;try{var o=l(t);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(t){u(e,t,r[t])})}return e}({},e,Object(a.a)({height:e.height,width:e.width,padding:r,bounds:o}))}catch(t){return console.error("Could not auto zoom",t),e}}function p(e,t,r){var o,n,a,i=e;if(i.js_tooltip)n=Object(c.a)(i.js_tooltip);else if(i.line_column&&i.metric&&["geohash","zipcode"].indexOf(i.line_type)>=0){var u=i.metric.label||i.metric;n=function(e){return s.a.createElement("div",null,s.a.createElement("div",null,i.line_column,": ",s.a.createElement("strong",null,e.object[i.line_column])),i.metric&&s.a.createElement("div",null,u,": ",s.a.createElement("strong",null,e.object[u])))}}return n&&(o=function(e){e.picked?t({content:n(e),x:e.x,y:e.y}):t(null)}),i.js_onclick_href?a=function(e){var t=Object(c.a)(i.js_onclick_href)(e);window.open(t)}:i.table_filter&&void 0!==r&&(a=function(e){return r(e.object[i.line_column])}),{onClick:a,onHover:o,pickable:Boolean(o)}}(o=r(2).enterModule)&&o(e);var d,f,b={p1:.01,p5:.05,p95:.95,p99:.99};function y(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sum",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"count"===t?function(e){return e.length}:(e=t in b?function(e,o){var n;return n=r?e.sort(function(e,t){return i.ascending(r(e),r(t))}):e.sort(i.ascending),i.quantile(n,b[t],o)}:i[t],r?function(t){return e(t.map(r))}:function(t){return e(t)})}d=r(2).default,f=r(2).leaveModule,d&&(d.register(l,"getBounds","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/deckgl/layers/common.jsx"),d.register(_,"fitViewport","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/deckgl/layers/common.jsx"),d.register(p,"commonLayerProps","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/deckgl/layers/common.jsx"),d.register(b,"percentiles","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/deckgl/layers/common.jsx"),d.register(y,"getAggFunc","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/deckgl/layers/common.jsx"),f(e))}).call(this,r(11)(e))},2627:function(e,t,r){"use strict";(function(e){r.d(t,"a",function(){return f});var o,n=r(2655),s=r.n(n),a=r(2656),i=r.n(a),c=r(21),u=r(2629);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(o=r(2).enterModule)&&o(e);var _,p,d={console:console,_:i.a,colors:u,d3array:c};function f(e,t,r){var o={},n="SAFE_EVAL_"+Math.floor(1e6*Math.random());o[n]={};var a=n+"="+e,i=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(t){l(e,t,r[t])})}return e}({},d,t);Object.keys(i).forEach(function(e){o[e]=i[e]});try{return s.a.runInNewContext(a,o,r),o[n]}catch(e){return function(){return e}}}_=r(2).default,p=r(2).leaveModule,_&&(_.register(d,"GLOBAL_CONTEXT","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/modules/sandbox.js"),_.register(f,"sandboxedEval","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/modules/sandbox.js"),p(e))}).call(this,r(11)(e))},2629:function(e,t,r){"use strict";r.r(t),function(e){r.d(t,"hexToRGB",function(){return i});var o,n,s,a=r(35);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:255;if(!e)return[0,0,0,t];var r=Object(a.f)(e);return[r.r,r.g,r.b,t]}(o=r(2).enterModule)&&o(e),n=r(2).default,s=r(2).leaveModule,n&&(n.register(i,"hexToRGB","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/modules/colors.js"),s(e))}.call(this,r(11)(e))},2633:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",function(){return DeckGLContainer});var lodash_isEqual__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(322),lodash_isEqual__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_isEqual__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),react_map_gl__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2649),deck_gl__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2634),mapbox_gl_dist_mapbox_gl_css__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2657),mapbox_gl_dist_mapbox_gl_css__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(mapbox_gl_dist_mapbox_gl_css__WEBPACK_IMPORTED_MODULE_5__),enterModule;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(t){_defineProperty(e,t,r[t])})}return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}enterModule=__webpack_require__(2).enterModule,enterModule&&enterModule(module);var TICK=2e3,propTypes={viewport:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object.isRequired,layers:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.array.isRequired,setControlValue:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func,mapStyle:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,mapboxApiAccessToken:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,onViewportChange:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func},defaultProps={mapStyle:"light",onViewportChange:function(){},setControlValue:function(){}},DeckGLContainer=function(_React$Component){function DeckGLContainer(e){var t;return _classCallCheck(this,DeckGLContainer),(t=_possibleConstructorReturn(this,_getPrototypeOf(DeckGLContainer).call(this,e))).tick=t.tick.bind(_assertThisInitialized(_assertThisInitialized(t))),t.onViewportChange=t.onViewportChange.bind(_assertThisInitialized(_assertThisInitialized(t))),t.state={previousViewport:e.viewport,timer:setInterval(t.tick,TICK)},t}return _inherits(DeckGLContainer,_React$Component),_createClass(DeckGLContainer,[{key:"componentWillUnmount",value:function(){clearInterval(this.state.timer)}},{key:"onViewportChange",value:function(e){var t=Object.assign({},e),r=_objectSpread({},this.state.previousViewport,t);this.props.onViewportChange(r)}},{key:"tick",value:function(){var e=this;if(this.state&&!lodash_isEqual__WEBPACK_IMPORTED_MODULE_0___default()(this.state.previousViewport,this.props.viewport)){var t=this.props.setControlValue,r=this.props.viewport;t&&t("viewport",r),this.setState(function(){return{previousViewport:e.props.viewport}})}}},{key:"layers",value:function(){return this.props.layers.some(function(e){return"function"==typeof e})?this.props.layers.map(function(e){return"function"==typeof e?e():e}):this.props.layers}},{key:"render",value:function(){var e=this.props.viewport;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_map_gl__WEBPACK_IMPORTED_MODULE_3__.a,_extends({},e,{mapStyle:this.props.mapStyle,onViewportChange:this.onViewportChange,mapboxApiAccessToken:this.props.mapboxApiAccessToken}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(deck_gl__WEBPACK_IMPORTED_MODULE_4__.i,_extends({},e,{layers:this.layers(),initWebGLParameters:!0})))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.viewport!==t.viewport?{viewport:_objectSpread({},e.viewport),previousViewport:t.viewport}:null}}]),DeckGLContainer}(react__WEBPACK_IMPORTED_MODULE_1___default.a.Component),reactHotLoader,leaveModule;DeckGLContainer.propTypes=propTypes,DeckGLContainer.defaultProps=defaultProps,reactHotLoader=__webpack_require__(2).default,leaveModule=__webpack_require__(2).leaveModule,reactHotLoader&&(reactHotLoader.register(TICK,"TICK","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/deckgl/DeckGLContainer.jsx"),reactHotLoader.register(propTypes,"propTypes","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/deckgl/DeckGLContainer.jsx"),reactHotLoader.register(defaultProps,"defaultProps","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/deckgl/DeckGLContainer.jsx"),reactHotLoader.register(DeckGLContainer,"DeckGLContainer","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/deckgl/DeckGLContainer.jsx"),leaveModule(module))}).call(this,__webpack_require__(11)(module))},2652:function(e,t){},2653:function(e,t){},2654:function(e,t){}}]);
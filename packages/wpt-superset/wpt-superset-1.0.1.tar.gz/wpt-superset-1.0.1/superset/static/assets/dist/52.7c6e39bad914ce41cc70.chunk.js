(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{1818:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),d3_array__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(21),_HorizonRow__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2967),_HorizonChart_css__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2968),_HorizonChart_css__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_HorizonChart_css__WEBPACK_IMPORTED_MODULE_4__),enterModule;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,_){if(!(e instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,_){for(var t=0;t<_.length;t++){var r=_[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,_,t){return _&&_defineProperties(e.prototype,_),t&&_defineProperties(e,t),e}function _possibleConstructorReturn(e,_){return!_||"object"!==_typeof(_)&&"function"!=typeof _?_assertThisInitialized(e):_}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(_&&_.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),_&&_setPrototypeOf(e,_)}function _setPrototypeOf(e,_){return(_setPrototypeOf=Object.setPrototypeOf||function(e,_){return e.__proto__=_,e})(e,_)}enterModule=__webpack_require__(2).enterModule,enterModule&&enterModule(module);var propTypes={className:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,width:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,seriesHeight:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,data:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({key:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string),values:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({y:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number}))})).isRequired,bands:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,colors:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string),colorScale:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,mode:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,offsetX:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number},defaultProps={className:"",width:800,seriesHeight:20,bands:Math.floor(_HorizonRow__WEBPACK_IMPORTED_MODULE_3__.a.length/2),colors:_HorizonRow__WEBPACK_IMPORTED_MODULE_3__.a,colorScale:"series",mode:"offset",offsetX:0},HorizonChart=function(_React$PureComponent){function HorizonChart(){return _classCallCheck(this,HorizonChart),_possibleConstructorReturn(this,_getPrototypeOf(HorizonChart).apply(this,arguments))}return _inherits(HorizonChart,_React$PureComponent),_createClass(HorizonChart,[{key:"render",value:function(){var e,_=this.props,t=_.className,r=_.width,o=_.data,a=_.seriesHeight,n=_.bands,s=_.colors,i=_.colorScale,u=_.mode,p=_.offsetX;if("overall"===i){var l=o.reduce(function(e,_){return e.concat(_.values)},[]);e=Object(d3_array__WEBPACK_IMPORTED_MODULE_2__.extent)(l,function(e){return e.y})}return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"horizon-chart ".concat(t)},o.map(function(_){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_HorizonRow__WEBPACK_IMPORTED_MODULE_3__.b,{key:_.key,width:r,height:a,title:_.key.join(", "),data:_.values,bands:n,colors:s,colorScale:i,mode:u,offsetX:p,yDomain:e})}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),HorizonChart}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);HorizonChart.propTypes=propTypes,HorizonChart.defaultProps=defaultProps;var _default=HorizonChart,reactHotLoader,leaveModule;__webpack_exports__.default=_default,reactHotLoader=__webpack_require__(2).default,leaveModule=__webpack_require__(2).leaveModule,reactHotLoader&&(reactHotLoader.register(propTypes,"propTypes","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/Horizon/HorizonChart.jsx"),reactHotLoader.register(defaultProps,"defaultProps","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/Horizon/HorizonChart.jsx"),reactHotLoader.register(HorizonChart,"HorizonChart","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/Horizon/HorizonChart.jsx"),reactHotLoader.register(_default,"default","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/Horizon/HorizonChart.jsx"),leaveModule(module))}.call(this,__webpack_require__(11)(module))},2967:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",function(){return DEFAULT_COLORS});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),d3_array__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(21),d3_scale__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(100),enterModule;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _slicedToArray(e,_){return _arrayWithHoles(e)||_iterableToArrayLimit(e,_)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,_){var t=[],r=!0,o=!1,a=void 0;try{for(var n,s=e[Symbol.iterator]();!(r=(n=s.next()).done)&&(t.push(n.value),!_||t.length!==_);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return t}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _objectSpread(e){for(var _=1;_<arguments.length;_++){var t=null!=arguments[_]?arguments[_]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(_){_defineProperty(e,_,t[_])})}return e}function _defineProperty(e,_,t){return _ in e?Object.defineProperty(e,_,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[_]=t,e}function _classCallCheck(e,_){if(!(e instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,_){for(var t=0;t<_.length;t++){var r=_[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,_,t){return _&&_defineProperties(e.prototype,_),t&&_defineProperties(e,t),e}function _possibleConstructorReturn(e,_){return!_||"object"!==_typeof(_)&&"function"!=typeof _?_assertThisInitialized(e):_}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(_&&_.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),_&&_setPrototypeOf(e,_)}function _setPrototypeOf(e,_){return(_setPrototypeOf=Object.setPrototypeOf||function(e,_){return e.__proto__=_,e})(e,_)}enterModule=__webpack_require__(2).enterModule,enterModule&&enterModule(module);var DEFAULT_COLORS=["#313695","#4575b4","#74add1","#abd9e9","#fee090","#fdae61","#f46d43","#d73027"],propTypes={className:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,width:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,height:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,data:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({y:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number})).isRequired,bands:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,colors:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string),colorScale:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,mode:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,offsetX:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,title:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,yDomain:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number)},defaultProps={className:"",width:800,height:20,bands:DEFAULT_COLORS.length>>1,colors:DEFAULT_COLORS,colorScale:"series",mode:"offset",offsetX:0,title:"",yDomain:void 0},HorizonRow=function(_React$PureComponent){function HorizonRow(){return _classCallCheck(this,HorizonRow),_possibleConstructorReturn(this,_getPrototypeOf(HorizonRow).apply(this,arguments))}return _inherits(HorizonRow,_React$PureComponent),_createClass(HorizonRow,[{key:"componentDidMount",value:function(){this.drawChart()}},{key:"componentDidUpdate",value:function(){this.drawChart()}},{key:"componentWillUnmount",value:function(){this.canvas=null}},{key:"drawChart",value:function(){if(this.canvas){var e=this.props,_=e.data,t=e.yDomain,r=e.width,o=e.height,a=e.bands,n=e.colors,s=e.colorScale,i=e.offsetX,u=e.mode,p="change"===s?_.map(function(e){return _objectSpread({},e,{y:e.y-_[0].y})}):_,l=this.canvas.getContext("2d");l.imageSmoothingEnabled=!1,l.clearRect(0,0,r,o),l.setTransform(1,0,0,1,0,0),l.translate(.5,.5);var c=r/p.length,f=Math.floor(Math.max(0,-i/c)),d=Math.floor(Math.min(p.length,f+r/c));if(f>p.length)return;for(var E,y,O=_slicedToArray(t||Object(d3_array__WEBPACK_IMPORTED_MODULE_2__.extent)(p,function(e){return e.y}),2),P=O[0],M=O[1],b=Object(d3_scale__WEBPACK_IMPORTED_MODULE_3__.b)().domain([0,Math.max(-P,M)]).range([0,o]),h=!1,D=0;D<a;D+=1){l.fillStyle=n[a+D],y=(D+1-a)*o,b.range([a*o+y,y]);for(var C=f;C<d;C++)(E=p[C].y)<=0?h=!0:void 0!==E&&l.fillRect(i+C*c,b(E),c+1,b(0)-b(E))}if(h){"offset"===u&&(l.translate(0,o),l.scale(1,-1));for(var R=0;R<a;R++){l.fillStyle=n[a-R-1],y=(R+1-a)*o,b.range([a*o+y,y]);for(var m=f;m<d;m++)(E=p[m].y)>=0||l.fillRect(i+m*c,b(-E),c+1,b(0)-b(-E))}}}}},{key:"render",value:function(){var e=this,_=this.props,t=_.className,r=_.title,o=_.width,a=_.height;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"horizon-row ".concat(t)},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",{className:"title"},r),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("canvas",{width:o,height:a,ref:function(_){e.canvas=_}}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),HorizonRow}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);HorizonRow.propTypes=propTypes,HorizonRow.defaultProps=defaultProps;var _default=HorizonRow,reactHotLoader,leaveModule;__webpack_exports__.b=_default,reactHotLoader=__webpack_require__(2).default,leaveModule=__webpack_require__(2).leaveModule,reactHotLoader&&(reactHotLoader.register(DEFAULT_COLORS,"DEFAULT_COLORS","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/Horizon/HorizonRow.jsx"),reactHotLoader.register(propTypes,"propTypes","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/Horizon/HorizonRow.jsx"),reactHotLoader.register(defaultProps,"defaultProps","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/Horizon/HorizonRow.jsx"),reactHotLoader.register(HorizonRow,"HorizonRow","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/Horizon/HorizonRow.jsx"),reactHotLoader.register(_default,"default","/home/leonardo/proyectos/dashboard/incubator-superset/superset/assets/src/visualizations/Horizon/HorizonRow.jsx"),leaveModule(module))}).call(this,__webpack_require__(11)(module))},2968:function(e,_,t){}}]);
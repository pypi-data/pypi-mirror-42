
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Installation and upgrade on Windows (XP/Vista/Server 2003/Server 2008) &#8212; Kallithea 0.3.7 documentation</title>
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Installing Kallithea on Microsoft Internet Information Services (IIS)" href="installation_iis.html" />
    <link rel="prev" title="Installation and upgrade on Windows (7/Server 2008 R2 and newer)" href="installation_win.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="installation_iis.html" title="Installing Kallithea on Microsoft Internet Information Services (IIS)"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="installation_win.html" title="Installation and upgrade on Windows (7/Server 2008 R2 and newer)"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Kallithea 0.3.7 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="installation-and-upgrade-on-windows-xp-vista-server-2003-server-2008">
<span id="installation-win-old"></span><h1>Installation and upgrade on Windows (XP/Vista/Server 2003/Server 2008)<a class="headerlink" href="#installation-and-upgrade-on-windows-xp-vista-server-2003-server-2008" title="Permalink to this headline">¶</a></h1>
<div class="section" id="first-time-install">
<h2>First-time install<a class="headerlink" href="#first-time-install" title="Permalink to this headline">¶</a></h2>
<p>Target OS: Windows XP SP3 32-bit English (Clean installation)
+ All Windows Updates until 24-may-2012</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>This installation is for 32-bit systems, for 64-bit Windows you might need
to download proper 64-bit versions of the different packages (Windows Installer, Win32py extensions)
plus some extra tweaks.
These extra steps haven been marked as “64-bit”.
Tested on Windows Server 2008 R2 SP1, 9-feb-2013.
If you run into any 64-bit related problems, please check these pages:</p>
<ul class="last simple">
<li><a class="reference external" href="http://blog.victorjabur.com/2011/06/05/compiling-python-2-7-modules-on-windows-32-and-64-using-msvc-2008-express/">http://blog.victorjabur.com/2011/06/05/compiling-python-2-7-modules-on-windows-32-and-64-using-msvc-2008-express/</a></li>
<li><a class="reference external" href="http://bugs.python.org/issue7511">http://bugs.python.org/issue7511</a></li>
</ul>
</div>
<div class="section" id="step-1-install-visual-studio-2008-express">
<h3>Step 1 – Install Visual Studio 2008 Express<a class="headerlink" href="#step-1-install-visual-studio-2008-express" title="Permalink to this headline">¶</a></h3>
<p>Optional: You can also install MinGW, but VS2008 installation is easier.</p>
<p>Download “Visual C++ 2008 Express Edition with SP1” from:
<a class="reference external" href="http://download.microsoft.com/download/E/8/E/E8EEB394-7F42-4963-A2D8-29559B738298/VS2008ExpressWithSP1ENUX1504728.iso">http://download.microsoft.com/download/E/8/E/E8EEB394-7F42-4963-A2D8-29559B738298/VS2008ExpressWithSP1ENUX1504728.iso</a>
(if not found or relocated, google for “visual studio 2008 express” for updated link. This link was taken from <a class="reference external" href="http://stackoverflow.com/questions/15318560/visual-c-2008-express-download-link-dead">http://stackoverflow.com/questions/15318560/visual-c-2008-express-download-link-dead</a>)</p>
<p>You can also download full ISO file for offline installation, just
choose “All – Offline Install ISO image file” in the previous page and
choose “Visual C++ 2008 Express” when installing.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Using other versions of Visual Studio will lead to random crashes.
You must use Visual Studio 2008!”</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Silverlight Runtime and SQL Server 2008 Express Edition are not
required, you can uncheck them</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">64-bit: You also need to install the Microsoft Windows SDK for .NET 3.5 SP1 (.NET 4.0 won’t work).
Download from: <a class="reference external" href="http://www.microsoft.com/en-us/download/details.aspx?id=3138">http://www.microsoft.com/en-us/download/details.aspx?id=3138</a></p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">64-bit: You also need to copy and rename a .bat file to make the Visual C++ compiler work.
I am not sure why this is not necessary for 32-bit.
Copy C:Program Files (x86)Microsoft Visual Studio 9.0VCbinvcvars64.bat to C:Program Files (x86)Microsoft Visual Studio 9.0VCbinamd64vcvarsamd64.bat</p>
</div>
</div>
<div class="section" id="step-2-install-python">
<h3>Step 2 – Install Python<a class="headerlink" href="#step-2-install-python" title="Permalink to this headline">¶</a></h3>
<p>Install Python 2.x.y (x = 6 or 7) x86 version (32-bit). DO NOT USE A 3.x version.
Download Python 2.x.y from:
<a class="reference external" href="http://www.python.org/download/">http://www.python.org/download/</a></p>
<p>Choose “Windows Installer” (32-bit version) not “Windows X86-64
Installer”. While writing this guide, the latest version was v2.7.3.
Remember the specific major and minor version installed, because it will
be needed in the next step. In this case, it is “2.7”.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">64-bit: Just download and install the 64-bit version of python.</p>
</div>
</div>
<div class="section" id="step-3-install-win32py-extensions">
<h3>Step 3 – Install Win32py extensions<a class="headerlink" href="#step-3-install-win32py-extensions" title="Permalink to this headline">¶</a></h3>
<p>Download pywin32 from:
<a class="reference external" href="http://sourceforge.net/projects/pywin32/files/">http://sourceforge.net/projects/pywin32/files/</a></p>
<ul>
<li><p class="first">Click on “pywin32” folder</p>
</li>
<li><p class="first">Click on the first folder (in this case, Build 217, maybe newer when you try)</p>
</li>
<li><p class="first">Choose the file ending with “.win32-py2.x.exe” -&gt; x being the minor
version of Python you installed (in this case, 7)
When writing this guide, the file was:
<a class="reference external" href="http://sourceforge.net/projects/pywin32/files/pywin32/Build%20217/pywin32-217.win32-py2.7.exe/download">http://sourceforge.net/projects/pywin32/files/pywin32/Build%20217/pywin32-217.win32-py2.7.exe/download</a></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">64-bit: Download and install the 64-bit version.
At the time of writing you can find this at:
<a class="reference external" href="http://sourceforge.net/projects/pywin32/files/pywin32/Build%20218/pywin32-218.win-amd64-py2.7.exe/download">http://sourceforge.net/projects/pywin32/files/pywin32/Build%20218/pywin32-218.win-amd64-py2.7.exe/download</a></p>
</div>
</li>
</ul>
</div>
<div class="section" id="step-4-python-bin">
<h3>Step 4 – Python BIN<a class="headerlink" href="#step-4-python-bin" title="Permalink to this headline">¶</a></h3>
<p>Add Python BIN folder to the path</p>
<p>You have to add the Python folder to the path, you can do it manually
(editing “PATH” environment variable) or using Windows Support Tools
that came preinstalled in Vista/7 and can be installed in Windows XP.</p>
<ul>
<li><p class="first">Using support tools on WINDOWS XP:
If you use Windows XP you can install them using Windows XP CD and
navigating to SUPPORTTOOLS. There, execute Setup.EXE (not MSI).
Afterwards, open a CMD and type:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>SETX PATH &quot;%PATH%;[your-python-path]&quot; -M
</pre></div>
</div>
<p>Close CMD (the path variable will be updated then)</p>
</li>
<li><p class="first">Using support tools on WINDOWS Vista/7:</p>
<p>Open a CMD and type:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>SETX PATH &quot;%PATH%;[your-python-path]&quot; /M
</pre></div>
</div>
<p>Please substitute [your-python-path] with your Python installation path.
Typically: C:\Python27</p>
</li>
</ul>
</div>
<div class="section" id="step-5-kallithea-folder-structure">
<h3>Step 5 – Kallithea folder structure<a class="headerlink" href="#step-5-kallithea-folder-structure" title="Permalink to this headline">¶</a></h3>
<p>Create a Kallithea folder structure</p>
<p>This is only a example to install Kallithea, you can of course change
it. However, this guide will follow the proposed structure, so please
later adapt the paths if you change them. My recommendation is to use
folders with NO SPACES. But you can try if you are brave…</p>
<p>Create the following folder structure:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>C:\Kallithea
C:\Kallithea\Bin
C:\Kallithea\Env
C:\Kallithea\Repos
</pre></div>
</div>
</div>
<div class="section" id="step-6-install-virtualenv">
<h3>Step 6 – Install virtualenv<a class="headerlink" href="#step-6-install-virtualenv" title="Permalink to this headline">¶</a></h3>
<p>Install Virtual Env for Python</p>
<p>Navigate to: <a class="reference external" href="http://www.virtualenv.org/en/latest/index.html#installation">http://www.virtualenv.org/en/latest/index.html#installation</a>
Right click on “virtualenv.py” file and choose “Save link as…”.
Download to C:\Kallithea (or whatever you want)
(the file is located at
<a class="reference external" href="https://raw.github.com/pypa/virtualenv/master/virtualenv.py">https://raw.github.com/pypa/virtualenv/master/virtualenv.py</a>)</p>
<p>Create a virtual Python environment in C:\Kallithea\Env (or similar). To
do so, open a CMD (Python Path should be included in Step3), navigate
where you downloaded “virtualenv.py”, and write:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>python2 virtualenv.py C:\Kallithea\Env
</pre></div>
</div>
<p>(–no-site-packages is now the default behaviour of virtualenv, no need
to include it)</p>
</div>
<div class="section" id="step-7-install-kallithea">
<h3>Step 7 – Install Kallithea<a class="headerlink" href="#step-7-install-kallithea" title="Permalink to this headline">¶</a></h3>
<p>Finally, install Kallithea</p>
<p>Close previously opened command prompt/s, and open a Visual Studio 2008
Command Prompt (<strong>IMPORTANT!!</strong>). To do so, go to Start Menu, and then open
“Microsoft Visual C++ 2008 Express Edition” -&gt; “Visual Studio Tools” -&gt;
“Visual Studio 2008 Command Prompt”</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">64-bit: For 64-bit you need to modify the shortcut that is used to start the
Visual Studio 2008 Command Prompt. Use right-mouse click to open properties.</p>
</div>
<p>Change commandline from:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>%comspec% /k &quot;&quot;C:\Program Files (x86)\Microsoft Visual Studio 9.0\VC\vcvarsall.bat&quot;&quot; x86
</pre></div>
</div>
<p>to:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>%comspec% /k &quot;&quot;C:\Program Files (x86)\Microsoft Visual Studio 9.0\VC\vcvarsall.bat&quot;&quot; amd64
</pre></div>
</div>
<p>In that CMD (loaded with VS2008 PATHs) type:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd C:\Kallithea\Env\Scripts (or similar)
activate
pip install --upgrade pip &quot;setuptools&lt;34&quot;
</pre></div>
</div>
<p>The prompt will change into “(Env) C:\Kallithea\Env\Scripts” or similar
(depending of your folder structure). Then type:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>pip install kallithea
</pre></div>
</div>
<p>(long step, please wait until fully complete)</p>
<p>Some warnings will appear, don’t worry as they are normal.</p>
</div>
<div class="section" id="step-8-configuring-kallithea">
<h3>Step 8 – Configuring Kallithea<a class="headerlink" href="#step-8-configuring-kallithea" title="Permalink to this headline">¶</a></h3>
<p>steps taken from <a class="reference external" href="http://packages.python.org/Kallithea/setup.html">http://packages.python.org/Kallithea/setup.html</a></p>
<p>You have to use the same Visual Studio 2008 command prompt as Step7, so
if you closed it reopen it following the same commands (including the
“activate” one). When ready, just type:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd C:\Kallithea\Bin
paster make-config Kallithea production.ini
</pre></div>
</div>
<p>Then, you must edit production.ini to fit your needs (network address and
port, mail settings, database, whatever). I recommend using NotePad++
(free) or similar text editor, as it handles well the EndOfLine
character differences between Unix and Windows
(<a class="reference external" href="http://notepad-plus-plus.org/">http://notepad-plus-plus.org/</a>)</p>
<p>For the sake of simplicity lets run it with the default settings. After
your edits (if any), in the previous Command Prompt, type:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>paster setup-db production.ini
</pre></div>
</div>
<p>(this time a NEW database will be installed, you must follow a different
step to later UPGRADE to a newer Kallithea version)</p>
<p>The script will ask you for confirmation about creating a NEW database,
answer yes (y)
The script will ask you for repository path, answer C:\Kallithea\Repos
(or similar)
The script will ask you for admin username and password, answer “admin”
+ “123456” (or whatever you want)
The script will ask you for admin mail, answer “<a class="reference external" href="mailto:admin&#37;&#52;&#48;xxxx&#46;com">admin<span>&#64;</span>xxxx<span>&#46;</span>com</a>” (or
whatever you want)</p>
<p>If you make some mistake and the script does not end, don’t worry, start
it again.</p>
</div>
<div class="section" id="step-9-running-kallithea">
<h3>Step 9 – Running Kallithea<a class="headerlink" href="#step-9-running-kallithea" title="Permalink to this headline">¶</a></h3>
<p>In the previous command prompt, being in the C:\Kallithea\Bin folder,
just type:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>paster serve production.ini
</pre></div>
</div>
<p>Open yout web server, and go to <a class="reference external" href="http://127.0.0.1:5000">http://127.0.0.1:5000</a></p>
<p>It works!! :-)</p>
<p>Remark:
If it does not work first time, just Ctrl-C the CMD process and start it
again. Don’t forget the “<a class="reference external" href="http://">http://</a>” in Internet Explorer</p>
<p>What this Guide does not cover:</p>
<ul class="simple">
<li>Installing Celery</li>
<li>Running Kallithea as Windows Service. You can investigate here:<ul>
<li><a class="reference external" href="http://pypi.python.org/pypi/wsgisvc">http://pypi.python.org/pypi/wsgisvc</a></li>
<li><a class="reference external" href="http://ryrobes.com/python/running-python-scripts-as-a-windows-service/">http://ryrobes.com/python/running-python-scripts-as-a-windows-service/</a></li>
<li><a class="reference external" href="http://wiki.pylonshq.com/display/pylonscookbook/How+to+run+Pylons+as+a+Windows+service">http://wiki.pylonshq.com/display/pylonscookbook/How+to+run+Pylons+as+a+Windows+service</a></li>
</ul>
</li>
<li>Using Apache. You can investigate here:<ul>
<li><a class="reference external" href="https://groups.google.com/group/rhodecode/msg/c433074e813ffdc4">https://groups.google.com/group/rhodecode/msg/c433074e813ffdc4</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="upgrading">
<h2>Upgrading<a class="headerlink" href="#upgrading" title="Permalink to this headline">¶</a></h2>
<p>Stop running Kallithea
Open a CommandPrompt like in Step7 (VS2008 path + activate) and type:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>easy_install -U kallithea
cd \Kallithea\Bin
</pre></div>
</div>
<p>{ backup your production.ini file now}</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>paster make-config Kallithea production.ini
</pre></div>
</div>
<p>(check changes and update your production.ini accordingly)</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>paster upgrade-db production.ini (update database)
</pre></div>
</div>
<p>Full steps in <a class="reference external" href="http://packages.python.org/Kallithea/upgrade.html">http://packages.python.org/Kallithea/upgrade.html</a></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div style="text-align:center;margin:30px 0;">
  <img src="_static/kallithea-logo.svg" width="200px"/>
</div>
<h3>Support Kallithea development</h3>
<div style="text-align:center">
<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="EYXFS3SQPHYUL">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal &ndash; The safer, easier way to pay online!">
<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form>
    <div style="padding:5px">
     <a href="https://flattr.com/thing/922714/Donate-to-Software-Freedom-Conservancy" target="_blank">
     <img src="http://api.flattr.com/button/flattr-badge-large.png" alt="Flattr this" title="Flattr this" border="0" /></a>
    </div>
</div>

  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Installation and upgrade on Windows (XP/Vista/Server 2003/Server 2008)</a><ul>
<li><a class="reference internal" href="#first-time-install">First-time install</a><ul>
<li><a class="reference internal" href="#step-1-install-visual-studio-2008-express">Step 1 – Install Visual Studio 2008 Express</a></li>
<li><a class="reference internal" href="#step-2-install-python">Step 2 – Install Python</a></li>
<li><a class="reference internal" href="#step-3-install-win32py-extensions">Step 3 – Install Win32py extensions</a></li>
<li><a class="reference internal" href="#step-4-python-bin">Step 4 – Python BIN</a></li>
<li><a class="reference internal" href="#step-5-kallithea-folder-structure">Step 5 – Kallithea folder structure</a></li>
<li><a class="reference internal" href="#step-6-install-virtualenv">Step 6 – Install virtualenv</a></li>
<li><a class="reference internal" href="#step-7-install-kallithea">Step 7 – Install Kallithea</a></li>
<li><a class="reference internal" href="#step-8-configuring-kallithea">Step 8 – Configuring Kallithea</a></li>
<li><a class="reference internal" href="#step-9-running-kallithea">Step 9 – Running Kallithea</a></li>
</ul>
</li>
<li><a class="reference internal" href="#upgrading">Upgrading</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="installation_win.html"
                        title="previous chapter">Installation and upgrade on Windows (7/Server 2008 R2 and newer)</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="installation_iis.html"
                        title="next chapter">Installing Kallithea on Microsoft Internet Information Services (IIS)</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/installation_win_old.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="installation_iis.html" title="Installing Kallithea on Microsoft Internet Information Services (IIS)"
             >next</a> |</li>
        <li class="right" >
          <a href="installation_win.html" title="Installation and upgrade on Windows (7/Server 2008 R2 and newer)"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Kallithea 0.3.7 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2010-2016 by various authors, licensed as GPLv3..
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.4.
    </div>
  </body>
</html>
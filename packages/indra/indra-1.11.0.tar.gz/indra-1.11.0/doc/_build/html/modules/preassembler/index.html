

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Preassembly (indra.preassembler) &mdash; INDRA 1.11.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="INDRA 1.11.0 documentation" href="../../index.html"/>
        <link rel="up" title="INDRA modules reference" href="../index.html"/>
        <link rel="next" title="Belief Engine (indra.belief)" href="../belief/index.html"/>
        <link rel="prev" title="Literature clients (indra.literature)" href="../literature/index.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> INDRA
          

          
          </a>

          
            
            
              <div class="version">
                1.11
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License and funding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">Getting started with INDRA</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">INDRA modules reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../statements.html">INDRA Statements (<code class="docutils literal notranslate"><span class="pre">indra.statements</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sources/index.html">Processors for knowledge input (<code class="docutils literal notranslate"><span class="pre">indra.sources</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../databases/index.html">Database clients (<code class="docutils literal notranslate"><span class="pre">indra.databases</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../literature/index.html">Literature clients (<code class="docutils literal notranslate"><span class="pre">indra.literature</span></code>)</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Preassembly (<code class="docutils literal notranslate"><span class="pre">indra.preassembler</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-indra.preassembler">Preassembler (<code class="docutils literal notranslate"><span class="pre">indra.preassembler</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-indra.preassembler.grounding_mapper">Entity grounding curation and mapping (<code class="docutils literal notranslate"><span class="pre">indra.preassembler.grounding_mapper</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-indra.preassembler.sitemapper">Site curation and mapping (<code class="docutils literal notranslate"><span class="pre">indra.preassembler.sitemapper</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-indra.preassembler.hierarchy_manager">Hierarchy manager (<code class="docutils literal notranslate"><span class="pre">indra.preassembler.hierarchy_manager</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../belief/index.html">Belief Engine (<code class="docutils literal notranslate"><span class="pre">indra.belief</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mechlinker/index.html">Mechanism Linker (<code class="docutils literal notranslate"><span class="pre">indra.mechlinker</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../assemblers/index.html">Assemblers of model output (<code class="docutils literal notranslate"><span class="pre">indra.assemblers</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../explanation/index.html">Explanation (<code class="docutils literal notranslate"><span class="pre">indra.explanation</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tools/index.html">Tools (<code class="docutils literal notranslate"><span class="pre">indra.tools</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../util/index.html">Util (<code class="docutils literal notranslate"><span class="pre">indra.util</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rest_api.html">REST API</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">INDRA</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">INDRA modules reference</a> &raquo;</li>
        
      <li>Preassembly (<code class="docutils literal notranslate"><span class="pre">indra.preassembler</span></code>)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/modules/preassembler/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="preassembly-indra-preassembler">
<h1>Preassembly (<a class="reference internal" href="#module-indra.preassembler" title="indra.preassembler"><code class="xref py py-mod docutils literal notranslate"><span class="pre">indra.preassembler</span></code></a>)<a class="headerlink" href="#preassembly-indra-preassembler" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-indra.preassembler">
<span id="preassembler-indra-preassembler"></span><h2>Preassembler (<a class="reference internal" href="#module-indra.preassembler" title="indra.preassembler"><code class="xref py py-mod docutils literal notranslate"><span class="pre">indra.preassembler</span></code></a>)<a class="headerlink" href="#module-indra.preassembler" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="indra.preassembler.Preassembler">
<em class="property">class </em><code class="descclassname">indra.preassembler.</code><code class="descname">Preassembler</code><span class="sig-paren">(</span><em>hierarchies</em>, <em>stmts=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler.html#Preassembler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.Preassembler" title="Permalink to this definition">¶</a></dt>
<dd><p>De-duplicates statements and arranges them in a specificity hierarchy.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>hierarchies</strong> (dict[<a class="reference internal" href="#module-indra.preassembler.hierarchy_manager" title="indra.preassembler.hierarchy_manager"><code class="xref py py-class docutils literal notranslate"><span class="pre">indra.preassembler.hierarchy_manager</span></code></a>]) – A dictionary of hierarchies with keys such as ‘entity’ (hierarchy of
entities, primarily specifying relationships between genes and their
families) and ‘modification’ pointing to HierarchyManagers</li>
<li><strong>stmts</strong> (list of <code class="xref py py-class docutils literal notranslate"><span class="pre">indra.statements.Statement</span></code> or None) – A set of statements to perform pre-assembly on. If None, statements
should be added using the <a class="reference internal" href="#indra.preassembler.Preassembler.add_statements" title="indra.preassembler.Preassembler.add_statements"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_statements()</span></code></a> method.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="indra.preassembler.Preassembler.stmts">
<code class="descname">stmts</code><a class="headerlink" href="#indra.preassembler.Preassembler.stmts" title="Permalink to this definition">¶</a></dt>
<dd><p>list of <code class="xref py py-class docutils literal notranslate"><span class="pre">indra.statements.Statement</span></code> – Starting set of statements for preassembly.</p>
</dd></dl>

<dl class="attribute">
<dt id="indra.preassembler.Preassembler.unique_stmts">
<code class="descname">unique_stmts</code><a class="headerlink" href="#indra.preassembler.Preassembler.unique_stmts" title="Permalink to this definition">¶</a></dt>
<dd><p>list of <code class="xref py py-class docutils literal notranslate"><span class="pre">indra.statements.Statement</span></code> – Statements resulting from combining duplicates.</p>
</dd></dl>

<dl class="attribute">
<dt id="indra.preassembler.Preassembler.related_stmts">
<code class="descname">related_stmts</code><a class="headerlink" href="#indra.preassembler.Preassembler.related_stmts" title="Permalink to this definition">¶</a></dt>
<dd><p>list of <code class="xref py py-class docutils literal notranslate"><span class="pre">indra.statements.Statement</span></code> – Top-level statements after building the refinement hierarchy.</p>
</dd></dl>

<dl class="attribute">
<dt id="indra.preassembler.Preassembler.hierarchies">
<code class="descname">hierarchies</code><a class="headerlink" href="#indra.preassembler.Preassembler.hierarchies" title="Permalink to this definition">¶</a></dt>
<dd><p>dict[<a class="reference internal" href="#module-indra.preassembler.hierarchy_manager" title="indra.preassembler.hierarchy_manager"><code class="xref py py-class docutils literal notranslate"><span class="pre">indra.preassembler.hierarchy_manager</span></code></a>] – A dictionary of hierarchies with keys such as ‘entity’ and
‘modification’ pointing to HierarchyManagers</p>
</dd></dl>

<dl class="method">
<dt id="indra.preassembler.Preassembler.add_statements">
<code class="descname">add_statements</code><span class="sig-paren">(</span><em>stmts</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler.html#Preassembler.add_statements"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.Preassembler.add_statements" title="Permalink to this definition">¶</a></dt>
<dd><p>Add to the current list of statements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>stmts</strong> (list of <code class="xref py py-class docutils literal notranslate"><span class="pre">indra.statements.Statement</span></code>) – Statements to add to the current list.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="indra.preassembler.Preassembler.combine_duplicate_stmts">
<em class="property">static </em><code class="descname">combine_duplicate_stmts</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler.html#Preassembler.combine_duplicate_stmts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.Preassembler.combine_duplicate_stmts" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine evidence from duplicate Statements.</p>
<p>Statements are deemed to be duplicates if they have the same key
returned by the <cite>matches_key()</cite> method of the Statement class. This
generally means that statements must be identical in terms of their
arguments and can differ only in their associated <cite>Evidence</cite> objects.</p>
<p>This function keeps the first instance of each set of duplicate
statements and merges the lists of Evidence from all of the other
statements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>stmts</strong> (list of <code class="xref py py-class docutils literal notranslate"><span class="pre">indra.statements.Statement</span></code>) – Set of statements to de-duplicate.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Unique statements with accumulated evidence across duplicates.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list of <code class="xref py py-class docutils literal notranslate"><span class="pre">indra.statements.Statement</span></code></td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>De-duplicate and combine evidence for two statements differing only
in their evidence lists:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">map2k1</span> <span class="o">=</span> <span class="n">Agent</span><span class="p">(</span><span class="s1">&#39;MAP2K1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapk1</span> <span class="o">=</span> <span class="n">Agent</span><span class="p">(</span><span class="s1">&#39;MAPK1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stmt1</span> <span class="o">=</span> <span class="n">Phosphorylation</span><span class="p">(</span><span class="n">map2k1</span><span class="p">,</span> <span class="n">mapk1</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;185&#39;</span><span class="p">,</span>
<span class="gp">... </span><span class="n">evidence</span><span class="o">=</span><span class="p">[</span><span class="n">Evidence</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;evidence 1&#39;</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stmt2</span> <span class="o">=</span> <span class="n">Phosphorylation</span><span class="p">(</span><span class="n">map2k1</span><span class="p">,</span> <span class="n">mapk1</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;185&#39;</span><span class="p">,</span>
<span class="gp">... </span><span class="n">evidence</span><span class="o">=</span><span class="p">[</span><span class="n">Evidence</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;evidence 2&#39;</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">uniq_stmts</span> <span class="o">=</span> <span class="n">Preassembler</span><span class="o">.</span><span class="n">combine_duplicate_stmts</span><span class="p">([</span><span class="n">stmt1</span><span class="p">,</span> <span class="n">stmt2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">uniq_stmts</span>
<span class="go">[Phosphorylation(MAP2K1(), MAPK1(), T, 185)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">([</span><span class="n">e</span><span class="o">.</span><span class="n">text</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">uniq_stmts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">evidence</span><span class="p">])</span> 
<span class="go">[&#39;evidence 1&#39;, &#39;evidence 2&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="indra.preassembler.Preassembler.combine_duplicates">
<code class="descname">combine_duplicates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler.html#Preassembler.combine_duplicates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.Preassembler.combine_duplicates" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine duplicates among <cite>stmts</cite> and save result in <cite>unique_stmts</cite>.</p>
<p>A wrapper around the static method <a class="reference internal" href="#indra.preassembler.Preassembler.combine_duplicate_stmts" title="indra.preassembler.Preassembler.combine_duplicate_stmts"><code class="xref py py-meth docutils literal notranslate"><span class="pre">combine_duplicate_stmts()</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="indra.preassembler.Preassembler.combine_related">
<code class="descname">combine_related</code><span class="sig-paren">(</span><em>return_toplevel=True</em>, <em>poolsize=None</em>, <em>size_cutoff=100</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler.html#Preassembler.combine_related"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.Preassembler.combine_related" title="Permalink to this definition">¶</a></dt>
<dd><p>Connect related statements based on their refinement relationships.</p>
<p>This function takes as a starting point the unique statements (with
duplicates removed) and returns a modified flat list of statements
containing only those statements which do not represent a refinement of
other existing statements. In other words, the more general versions of
a given statement do not appear at the top level, but instead are
listed in the <cite>supports</cite> field of the top-level statements.</p>
<p>If <a class="reference internal" href="#indra.preassembler.Preassembler.unique_stmts" title="indra.preassembler.Preassembler.unique_stmts"><code class="xref py py-attr docutils literal notranslate"><span class="pre">unique_stmts</span></code></a> has not been initialized with the
de-duplicated statements, <a class="reference internal" href="#indra.preassembler.Preassembler.combine_duplicates" title="indra.preassembler.Preassembler.combine_duplicates"><code class="xref py py-meth docutils literal notranslate"><span class="pre">combine_duplicates()</span></code></a> is called
internally.</p>
<p>After this function is called the attribute <a class="reference internal" href="#indra.preassembler.Preassembler.related_stmts" title="indra.preassembler.Preassembler.related_stmts"><code class="xref py py-attr docutils literal notranslate"><span class="pre">related_stmts</span></code></a> is
set as a side-effect.</p>
<p>The procedure for combining statements in this way involves a series
of steps:</p>
<ol class="arabic simple">
<li>The statements are grouped by type (e.g., Phosphorylation) and
each type is iterated over independently.</li>
<li>Statements of the same type are then grouped according to their
Agents’ entity hierarchy component identifiers. For instance,
ERK, MAPK1 and MAPK3 are all in the same connected component in the
entity hierarchy and therefore all Statements of the same type
referencing these entities will be grouped. This grouping assures
that relations are only possible within Statement groups and
not among groups. For two Statements to be in the same group at
this step, the Statements must be the same type and the Agents at
each position in the Agent lists must either be in the same
hierarchy component, or if they are not in the hierarchy, must have
identical entity_matches_keys. Statements with None in one of the
Agent list positions are collected separately at this stage.</li>
<li>Statements with None at either the first or second position are
iterated over. For a statement with a None as the first Agent,
the second Agent is examined; then the Statement with None is
added to all Statement groups with a corresponding component or
entity_matches_key in the second position. The same procedure is
performed for Statements with None at the second Agent position.</li>
<li>The statements within each group are then compared; if one
statement represents a refinement of the other (as defined by the
<cite>refinement_of()</cite> method implemented for the Statement), then the
more refined statement is added to the <cite>supports</cite> field of the more
general statement, and the more general statement is added to the
<cite>supported_by</cite> field of the more refined statement.</li>
<li>A new flat list of statements is created that contains only those
statements that have no <cite>supports</cite> entries (statements containing
such entries are not eliminated, because they will be retrievable
from the <cite>supported_by</cite> fields of other statements). This list
is returned to the caller.</li>
</ol>
<p>On multi-core machines, the algorithm can be parallelized by setting
the poolsize argument to the desired number of worker processes.
This feature is only available in Python &gt; 3.4.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Subfamily relationships must be consistent across arguments</p>
<p class="last">For now, we require that merges can only occur if the <em>isa</em>
relationships are all in the <em>same direction for all the agents</em> in
a Statement. For example, the two statement groups: <cite>RAF_family -&gt;
MEK1</cite> and <cite>BRAF -&gt; MEK_family</cite> would not be merged, since BRAF
<em>isa</em> RAF_family, but MEK_family is not a MEK1. In the future this
restriction could be revisited.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>return_toplevel</strong> (<em>Optional</em><em>[</em><em>bool</em><em>]</em>) – If True only the top level statements are returned.
If False, all statements are returned. Default: True</li>
<li><strong>poolsize</strong> (<em>Optional</em><em>[</em><em>int</em><em>]</em>) – The number of worker processes to use to parallelize the
comparisons performed by the function. If None (default), no
parallelization is performed. NOTE: Parallelization is only
available on Python 3.4 and above.</li>
<li><strong>size_cutoff</strong> (<em>Optional</em><em>[</em><em>int</em><em>]</em>) – Groups with size_cutoff or more statements are sent to worker
processes, while smaller groups are compared in the parent process.
Default value is 100. Not relevant when parallelization is not
used.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The returned list contains Statements representing the more
concrete/refined versions of the Statements involving particular
entities. The attribute <a class="reference internal" href="#indra.preassembler.Preassembler.related_stmts" title="indra.preassembler.Preassembler.related_stmts"><code class="xref py py-attr docutils literal notranslate"><span class="pre">related_stmts</span></code></a> is also set to
this list. However, if return_toplevel is False then all
statements are returned, irrespective of level of specificity.
In this case the relationships between statements can
be accessed via the supports/supported_by attributes.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of <code class="xref py py-class docutils literal notranslate"><span class="pre">indra.statement.Statement</span></code></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>A more general statement with no information about a Phosphorylation
site is identified as supporting a more specific statement:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">indra.preassembler.hierarchy_manager</span> <span class="k">import</span> <span class="n">hierarchies</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">braf</span> <span class="o">=</span> <span class="n">Agent</span><span class="p">(</span><span class="s1">&#39;BRAF&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">map2k1</span> <span class="o">=</span> <span class="n">Agent</span><span class="p">(</span><span class="s1">&#39;MAP2K1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">st1</span> <span class="o">=</span> <span class="n">Phosphorylation</span><span class="p">(</span><span class="n">braf</span><span class="p">,</span> <span class="n">map2k1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">st2</span> <span class="o">=</span> <span class="n">Phosphorylation</span><span class="p">(</span><span class="n">braf</span><span class="p">,</span> <span class="n">map2k1</span><span class="p">,</span> <span class="n">residue</span><span class="o">=</span><span class="s1">&#39;S&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pa</span> <span class="o">=</span> <span class="n">Preassembler</span><span class="p">(</span><span class="n">hierarchies</span><span class="p">,</span> <span class="p">[</span><span class="n">st1</span><span class="p">,</span> <span class="n">st2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">combined_stmts</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">combine_related</span><span class="p">()</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">combined_stmts</span>
<span class="go">[Phosphorylation(BRAF(), MAP2K1(), S)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">combined_stmts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">supported_by</span>
<span class="go">[Phosphorylation(BRAF(), MAP2K1())]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">combined_stmts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">supported_by</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">supports</span>
<span class="go">[Phosphorylation(BRAF(), MAP2K1(), S)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="indra.preassembler.Preassembler.find_contradicts">
<code class="descname">find_contradicts</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler.html#Preassembler.find_contradicts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.Preassembler.find_contradicts" title="Permalink to this definition">¶</a></dt>
<dd><p>Return pairs of contradicting Statements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>contradicts</strong> – A list of Statement pairs that are contradicting.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list(tuple(<a class="reference internal" href="../statements.html#indra.statements.statements.Statement" title="indra.statements.statements.Statement">Statement</a>, <a class="reference internal" href="../statements.html#indra.statements.statements.Statement" title="indra.statements.statements.Statement">Statement</a>))</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="indra.preassembler.flatten_evidence">
<code class="descclassname">indra.preassembler.</code><code class="descname">flatten_evidence</code><span class="sig-paren">(</span><em>stmts</em>, <em>collect_from=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler.html#flatten_evidence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.flatten_evidence" title="Permalink to this definition">¶</a></dt>
<dd><p>Add evidence from <em>supporting</em> stmts to evidence for <em>supported</em> stmts.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>stmts</strong> (list of <code class="xref py py-class docutils literal notranslate"><span class="pre">indra.statements.Statement</span></code>) – A list of top-level statements with associated supporting statements
resulting from building a statement hierarchy with
<code class="xref py py-meth docutils literal notranslate"><span class="pre">combine_related()</span></code>.</li>
<li><strong>collect_from</strong> (<em>str in</em><em> (</em><em>'supports'</em><em>, </em><em>'supported_by'</em><em>)</em>) – String indicating whether to collect and flatten evidence from the
<cite>supports</cite> attribute of each statement or the <cite>supported_by</cite> attribute.
If not set, defaults to ‘supported_by’.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>stmts</strong> – Statement hierarchy identical to the one passed, but with the
evidence lists for each statement now containing all of the evidence
associated with the statements they are supported by.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of <code class="xref py py-class docutils literal notranslate"><span class="pre">indra.statements.Statement</span></code></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Flattening evidence adds the two pieces of evidence from the supporting
statement to the evidence list of the top-level statement:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">indra.preassembler.hierarchy_manager</span> <span class="k">import</span> <span class="n">hierarchies</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">braf</span> <span class="o">=</span> <span class="n">Agent</span><span class="p">(</span><span class="s1">&#39;BRAF&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">map2k1</span> <span class="o">=</span> <span class="n">Agent</span><span class="p">(</span><span class="s1">&#39;MAP2K1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">st1</span> <span class="o">=</span> <span class="n">Phosphorylation</span><span class="p">(</span><span class="n">braf</span><span class="p">,</span> <span class="n">map2k1</span><span class="p">,</span>
<span class="gp">... </span><span class="n">evidence</span><span class="o">=</span><span class="p">[</span><span class="n">Evidence</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="p">),</span> <span class="n">Evidence</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">st2</span> <span class="o">=</span> <span class="n">Phosphorylation</span><span class="p">(</span><span class="n">braf</span><span class="p">,</span> <span class="n">map2k1</span><span class="p">,</span> <span class="n">residue</span><span class="o">=</span><span class="s1">&#39;S&#39;</span><span class="p">,</span>
<span class="gp">... </span><span class="n">evidence</span><span class="o">=</span><span class="p">[</span><span class="n">Evidence</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;baz&#39;</span><span class="p">),</span> <span class="n">Evidence</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;bak&#39;</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pa</span> <span class="o">=</span> <span class="n">Preassembler</span><span class="p">(</span><span class="n">hierarchies</span><span class="p">,</span> <span class="p">[</span><span class="n">st1</span><span class="p">,</span> <span class="n">st2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pa</span><span class="o">.</span><span class="n">combine_related</span><span class="p">()</span> 
<span class="go">[Phosphorylation(BRAF(), MAP2K1(), S)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">e</span><span class="o">.</span><span class="n">text</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">pa</span><span class="o">.</span><span class="n">related_stmts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">evidence</span><span class="p">]</span> 
<span class="go">[&#39;baz&#39;, &#39;bak&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flattened</span> <span class="o">=</span> <span class="n">flatten_evidence</span><span class="p">(</span><span class="n">pa</span><span class="o">.</span><span class="n">related_stmts</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">([</span><span class="n">e</span><span class="o">.</span><span class="n">text</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">flattened</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">evidence</span><span class="p">])</span> 
<span class="go">[&#39;bak&#39;, &#39;bar&#39;, &#39;baz&#39;, &#39;foo&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="indra.preassembler.flatten_stmts">
<code class="descclassname">indra.preassembler.</code><code class="descname">flatten_stmts</code><span class="sig-paren">(</span><em>stmts</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler.html#flatten_stmts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.flatten_stmts" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the full set of unique stms in a pre-assembled stmt graph.</p>
<p>The flattened list of statements returned by this function can be
compared to the original set of unique statements to make sure no
statements have been lost during the preassembly process.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>stmts</strong> (list of <code class="xref py py-class docutils literal notranslate"><span class="pre">indra.statements.Statement</span></code>) – A list of top-level statements with associated supporting statements
resulting from building a statement hierarchy with
<code class="xref py py-meth docutils literal notranslate"><span class="pre">combine_related()</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>stmts</strong> – List of all statements contained in the hierarchical statement graph.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list of <code class="xref py py-class docutils literal notranslate"><span class="pre">indra.statements.Statement</span></code></td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Calling <code class="xref py py-meth docutils literal notranslate"><span class="pre">combine_related()</span></code> on two statements results in one
top-level statement; calling <a class="reference internal" href="#indra.preassembler.flatten_stmts" title="indra.preassembler.flatten_stmts"><code class="xref py py-func docutils literal notranslate"><span class="pre">flatten_stmts()</span></code></a> recovers both:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">indra.preassembler.hierarchy_manager</span> <span class="k">import</span> <span class="n">hierarchies</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">braf</span> <span class="o">=</span> <span class="n">Agent</span><span class="p">(</span><span class="s1">&#39;BRAF&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">map2k1</span> <span class="o">=</span> <span class="n">Agent</span><span class="p">(</span><span class="s1">&#39;MAP2K1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">st1</span> <span class="o">=</span> <span class="n">Phosphorylation</span><span class="p">(</span><span class="n">braf</span><span class="p">,</span> <span class="n">map2k1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">st2</span> <span class="o">=</span> <span class="n">Phosphorylation</span><span class="p">(</span><span class="n">braf</span><span class="p">,</span> <span class="n">map2k1</span><span class="p">,</span> <span class="n">residue</span><span class="o">=</span><span class="s1">&#39;S&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pa</span> <span class="o">=</span> <span class="n">Preassembler</span><span class="p">(</span><span class="n">hierarchies</span><span class="p">,</span> <span class="p">[</span><span class="n">st1</span><span class="p">,</span> <span class="n">st2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pa</span><span class="o">.</span><span class="n">combine_related</span><span class="p">()</span> 
<span class="go">[Phosphorylation(BRAF(), MAP2K1(), S)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flattened</span> <span class="o">=</span> <span class="n">flatten_stmts</span><span class="p">(</span><span class="n">pa</span><span class="o">.</span><span class="n">related_stmts</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flattened</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">matches_key</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flattened</span>
<span class="go">[Phosphorylation(BRAF(), MAP2K1()), Phosphorylation(BRAF(), MAP2K1(), S)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="indra.preassembler.render_stmt_graph">
<code class="descclassname">indra.preassembler.</code><code class="descname">render_stmt_graph</code><span class="sig-paren">(</span><em>statements</em>, <em>reduce=True</em>, <em>english=False</em>, <em>rankdir=None</em>, <em>agent_style=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler.html#render_stmt_graph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.render_stmt_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Render the statement hierarchy as a pygraphviz graph.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>stmts</strong> (list of <code class="xref py py-class docutils literal notranslate"><span class="pre">indra.statements.Statement</span></code>) – A list of top-level statements with associated supporting statements
resulting from building a statement hierarchy with
<code class="xref py py-meth docutils literal notranslate"><span class="pre">combine_related()</span></code>.</li>
<li><strong>reduce</strong> (<em>bool</em>) – Whether to perform a transitive reduction of the edges in the graph.
Default is True.</li>
<li><strong>english</strong> (<em>bool</em>) – If True, the statements in the graph are represented by their
English-assembled equivalent; otherwise they are represented as
text-formatted Statements.</li>
<li><strong>rank_dir</strong> (<em>str</em><em> or </em><em>None</em>) – Argument to pass through to the  pygraphviz <cite>AGraph</cite> constructor
specifying graph layout direction. In particular, a value of ‘LR’
specifies a left-to-right direction. If None, the pygraphviz default
is used.</li>
<li><strong>agent_style</strong> (<em>dict</em><em> or </em><em>None</em>) – <p>Dict of attributes specifying the visual properties of nodes. If None,
the following default attributes are used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">agent_style</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;lightgray&#39;</span><span class="p">,</span> <span class="s1">&#39;style&#39;</span><span class="p">:</span> <span class="s1">&#39;filled&#39;</span><span class="p">,</span>
               <span class="s1">&#39;fontname&#39;</span><span class="p">:</span> <span class="s1">&#39;arial&#39;</span><span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Pygraphviz graph with nodes representing statements and edges pointing
from supported statements to supported_by statements.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pygraphviz.AGraph</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Pattern for getting statements and rendering as a Graphviz graph:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">indra.preassembler.hierarchy_manager</span> <span class="k">import</span> <span class="n">hierarchies</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">braf</span> <span class="o">=</span> <span class="n">Agent</span><span class="p">(</span><span class="s1">&#39;BRAF&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">map2k1</span> <span class="o">=</span> <span class="n">Agent</span><span class="p">(</span><span class="s1">&#39;MAP2K1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">st1</span> <span class="o">=</span> <span class="n">Phosphorylation</span><span class="p">(</span><span class="n">braf</span><span class="p">,</span> <span class="n">map2k1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">st2</span> <span class="o">=</span> <span class="n">Phosphorylation</span><span class="p">(</span><span class="n">braf</span><span class="p">,</span> <span class="n">map2k1</span><span class="p">,</span> <span class="n">residue</span><span class="o">=</span><span class="s1">&#39;S&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pa</span> <span class="o">=</span> <span class="n">Preassembler</span><span class="p">(</span><span class="n">hierarchies</span><span class="p">,</span> <span class="p">[</span><span class="n">st1</span><span class="p">,</span> <span class="n">st2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pa</span><span class="o">.</span><span class="n">combine_related</span><span class="p">()</span> 
<span class="go">[Phosphorylation(BRAF(), MAP2K1(), S)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graph</span> <span class="o">=</span> <span class="n">render_stmt_graph</span><span class="p">(</span><span class="n">pa</span><span class="o">.</span><span class="n">related_stmts</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graph</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;example_graph.dot&#39;</span><span class="p">)</span> <span class="c1"># To make the DOT file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graph</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="s1">&#39;example_graph.png&#39;</span><span class="p">,</span> <span class="n">prog</span><span class="o">=</span><span class="s1">&#39;dot&#39;</span><span class="p">)</span> <span class="c1"># To make an image</span>
</pre></div>
</div>
<p>Resulting graph:</p>
<img alt="Example statement graph rendered by Graphviz" class="align-center" src="../../_images/example_graph.png" />
</dd></dl>

</div>
<div class="section" id="module-indra.preassembler.grounding_mapper">
<span id="entity-grounding-curation-and-mapping-indra-preassembler-grounding-mapper"></span><h2>Entity grounding curation and mapping (<a class="reference internal" href="#module-indra.preassembler.grounding_mapper" title="indra.preassembler.grounding_mapper"><code class="xref py py-mod docutils literal notranslate"><span class="pre">indra.preassembler.grounding_mapper</span></code></a>)<a class="headerlink" href="#module-indra.preassembler.grounding_mapper" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="indra.preassembler.grounding_mapper.GroundingMapper">
<em class="property">class </em><code class="descclassname">indra.preassembler.grounding_mapper.</code><code class="descname">GroundingMapper</code><span class="sig-paren">(</span><em>gm</em>, <em>agent_map=None</em>, <em>use_deft=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/grounding_mapper.html#GroundingMapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.grounding_mapper.GroundingMapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps grounding of INDRA Agents based on a given grounding map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>gm</strong> (<em>dict</em>) – The grounding map, a dictionary mapping strings (entity names) to
a dictionary of database identifiers.</li>
<li><strong>agent_map</strong> (<em>Optional</em><em>[</em><em>dict</em><em>]</em>) – A dictionary mapping strings to grounded INDRA Agents with given state.</li>
<li><strong>use_deft</strong> (<em>Optional</em><em>[</em><em>bool</em><em>]</em>) – If True, Deft will be attempted to be used for disambiguation of
acronyms. Default: True</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="indra.preassembler.grounding_mapper.GroundingMapper.map_agent">
<code class="descname">map_agent</code><span class="sig-paren">(</span><em>agent</em>, <em>do_rename</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/grounding_mapper.html#GroundingMapper.map_agent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.grounding_mapper.GroundingMapper.map_agent" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the given Agent with its grounding mapped.</p>
<p>This function grounds a single agent. It returns the new Agent object
(which might be a different object if we load a new agent state
from json) or the same object otherwise.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>agent</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">indra.statements.Agent</span></code>) – The Agent to map.</li>
<li><strong>do_rename</strong> (<em>bool</em>) – If True, the Agent name is updated based on the mapped grounding.
If do_rename is True the priority for setting the name is
FamPlex ID, HGNC symbol, then the gene name
from Uniprot.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>grounded_agent</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">indra.statements.Agent</span></code>) – The grounded Agent.</li>
<li><strong>maps_to_none</strong> (<em>bool</em>) – True if the Agent is in the grounding map and maps to None.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="indra.preassembler.grounding_mapper.GroundingMapper.map_agents">
<code class="descname">map_agents</code><span class="sig-paren">(</span><em>stmts</em>, <em>do_rename=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/grounding_mapper.html#GroundingMapper.map_agents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.grounding_mapper.GroundingMapper.map_agents" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new list of statements whose agents have been mapped</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>stmts</strong> (list of <code class="xref py py-class docutils literal notranslate"><span class="pre">indra.statements.Statement</span></code>) – The statements whose agents need mapping</li>
<li><strong>do_rename</strong> (<em>Optional</em><em>[</em><em>bool</em><em>]</em>) – If True, the Agent name is updated based on the mapped grounding.
If do_rename is True the priority for setting the name is
FamPlex ID, HGNC symbol, then the gene name
from Uniprot. Default: True</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>mapped_stmts</strong> – A list of statements given by mapping the agents from each
statement in the input list</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of <code class="xref py py-class docutils literal notranslate"><span class="pre">indra.statements.Statement</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="indra.preassembler.grounding_mapper.GroundingMapper.map_agents_for_stmt">
<code class="descname">map_agents_for_stmt</code><span class="sig-paren">(</span><em>stmt</em>, <em>do_rename=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/grounding_mapper.html#GroundingMapper.map_agents_for_stmt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.grounding_mapper.GroundingMapper.map_agents_for_stmt" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new Statement whose agents have been grounding mapped.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>stmt</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">indra.statements.Statement</span></code>) – The Statement whose agents need mapping.</li>
<li><strong>do_rename</strong> (<em>Optional</em><em>[</em><em>bool</em><em>]</em>) – If True, the Agent name is updated based on the mapped grounding.
If do_rename is True the priority for setting the name is
FamPlex ID, HGNC symbol, then the gene name
from Uniprot. Default: True</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>mapped_stmt</strong> – The mapped Statement.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal notranslate"><span class="pre">indra.statements.Statement</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="indra.preassembler.grounding_mapper.GroundingMapper.rename_agents">
<code class="descname">rename_agents</code><span class="sig-paren">(</span><em>stmts</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/grounding_mapper.html#GroundingMapper.rename_agents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.grounding_mapper.GroundingMapper.rename_agents" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of mapped statements with updated agent names.</p>
<p>Creates a new list of statements without modifying the original list.</p>
<p>The agents in a statement should be renamed if the grounding map has
updated their db_refs. If an agent contains a FamPlex grounding, the
FamPlex ID is used as a name. Otherwise if it contains a Uniprot ID,
an attempt is made to find the associated HGNC gene name. If one can
be found it is used as the agent name and the associated HGNC ID is
added as an entry to the db_refs. If neither a FamPlex ID or HGNC name
can be found, falls back to the original name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>stmts</strong> (list of <code class="xref py py-class docutils literal notranslate"><span class="pre">indra.statements.Statement</span></code>) – List of statements whose Agents need their names updated.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>mapped_stmts</strong> – A new list of Statements with updated Agent names</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list of <code class="xref py py-class docutils literal notranslate"><span class="pre">indra.statements.Statement</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="indra.preassembler.grounding_mapper.GroundingMapper.update_agent_db_refs">
<code class="descname">update_agent_db_refs</code><span class="sig-paren">(</span><em>agent</em>, <em>agent_text</em>, <em>do_rename=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/grounding_mapper.html#GroundingMapper.update_agent_db_refs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.grounding_mapper.GroundingMapper.update_agent_db_refs" title="Permalink to this definition">¶</a></dt>
<dd><p>Update db_refs of agent using the grounding map</p>
<p>If the grounding map is missing one of the HGNC symbol or Uniprot ID,
attempts to reconstruct one from the other.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>agent</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">indra.statements.Agent</span></code>) – The agent whose db_refs will be updated</li>
<li><strong>agent_text</strong> (<em>str</em>) – The agent_text to find a grounding for in the grounding map
dictionary. Typically this will be agent.db_refs[‘TEXT’] but
there may be situations where a different value should be used.</li>
<li><strong>do_rename</strong> (<em>Optional</em><em>[</em><em>bool</em><em>]</em>) – If True, the Agent name is updated based on the mapped grounding.
If do_rename is True the priority for setting the name is
FamPlex ID, HGNC symbol, then the gene name
from Uniprot. Default: True</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code> – If the the grounding map contains and HGNC symbol for
agent_text but no HGNC ID can be found for it.</li>
<li><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code> – If the grounding map contains both an HGNC symbol and a
Uniprot ID, but the HGNC symbol and the gene name associated with
the gene in Uniprot do not match or if there is no associated gene
name in Uniprot.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="indra.preassembler.grounding_mapper.agent_texts">
<code class="descclassname">indra.preassembler.grounding_mapper.</code><code class="descname">agent_texts</code><span class="sig-paren">(</span><em>agents</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/grounding_mapper.html#agent_texts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.grounding_mapper.agent_texts" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all agent texts from a list of agents.</p>
<p>None values are associated to agents without agent texts</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>agents</strong> (list of <code class="xref py py-class docutils literal notranslate"><span class="pre">indra.statements.Agent</span></code>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">agent texts from input list of agents</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list of str/None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="indra.preassembler.grounding_mapper.agent_texts_with_grounding">
<code class="descclassname">indra.preassembler.grounding_mapper.</code><code class="descname">agent_texts_with_grounding</code><span class="sig-paren">(</span><em>stmts</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/grounding_mapper.html#agent_texts_with_grounding"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.grounding_mapper.agent_texts_with_grounding" title="Permalink to this definition">¶</a></dt>
<dd><p>Return agent text groundings in a list of statements with their counts</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>stmts</strong> (list of <code class="xref py py-class docutils literal notranslate"><span class="pre">indra.statements.Statement</span></code>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">List of tuples of the form
(text: str, ((name_space: str, ID: str, count: int)…),
total_count: int)<p>Where the counts within the tuple of groundings give the number of
times an agent with the given agent_text appears grounded with the
particular name space and ID. The total_count gives the total number
of times an agent with text appears in the list of statements.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list of tuple</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="indra.preassembler.grounding_mapper.all_agents">
<code class="descclassname">indra.preassembler.grounding_mapper.</code><code class="descname">all_agents</code><span class="sig-paren">(</span><em>stmts</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/grounding_mapper.html#all_agents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.grounding_mapper.all_agents" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all of the agents from a list of statements.</p>
<p>Only agents that are not None and have a TEXT entry are returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>stmts</strong> (list of <code class="xref py py-class docutils literal notranslate"><span class="pre">indra.statements.Statement</span></code>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>agents</strong> – List of agents that appear in the input list of indra statements.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list of <code class="xref py py-class docutils literal notranslate"><span class="pre">indra.statements.Agent</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="indra.preassembler.grounding_mapper.get_agents_with_name">
<code class="descclassname">indra.preassembler.grounding_mapper.</code><code class="descname">get_agents_with_name</code><span class="sig-paren">(</span><em>name</em>, <em>stmts</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/grounding_mapper.html#get_agents_with_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.grounding_mapper.get_agents_with_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all agents within a list of statements with a particular name.</p>
</dd></dl>

<dl class="function">
<dt id="indra.preassembler.grounding_mapper.get_sentences_for_agent">
<code class="descclassname">indra.preassembler.grounding_mapper.</code><code class="descname">get_sentences_for_agent</code><span class="sig-paren">(</span><em>text</em>, <em>stmts</em>, <em>max_sentences=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/grounding_mapper.html#get_sentences_for_agent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.grounding_mapper.get_sentences_for_agent" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns evidence sentences with a given agent text from a list of statements</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>text</strong> (<em>str</em>) – An agent text</li>
<li><strong>stmts</strong> (list of <code class="xref py py-class docutils literal notranslate"><span class="pre">indra.statements.Statement</span></code>) – INDRA Statements to search in for evidence statements.</li>
<li><strong>max_sentences</strong> (<em>Optional</em><em>[</em><em>int/None</em><em>]</em>) – Cap on the number of evidence sentences to return. Default: None</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>sentences</strong> – Evidence sentences from the list of statements containing
the given agent text.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="indra.preassembler.grounding_mapper.load_grounding_map">
<code class="descclassname">indra.preassembler.grounding_mapper.</code><code class="descname">load_grounding_map</code><span class="sig-paren">(</span><em>grounding_map_path</em>, <em>ignore_path=None</em>, <em>lineterminator='\r\n'</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/grounding_mapper.html#load_grounding_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.grounding_mapper.load_grounding_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a grounding map dictionary loaded from a csv file.</p>
<p>In the file pointed to by grounding_map_path, the number of name_space ID
pairs can vary per row and commas are
used to pad out entries containing fewer than the maximum amount of
name spaces appearing in the file. Lines should be terminated with</p>
<p>both a carriage return and a new line by default.</p>
<p>Optionally, one can specify another csv file (pointed to by ignore_path)
containing agent texts that are degenerate and should be filtered out.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>grounding_map_path</strong> (<em>str</em>) – Path to csv file containing grounding map information. Rows of the file
should be of the form &lt;agent_text&gt;,&lt;name_space_1&gt;,&lt;ID_1&gt;,…
&lt;name_space_n&gt;,&lt;ID_n&gt;</li>
<li><strong>ignore_path</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – Path to csv file containing terms that should be filtered out during
the grounding mapping process. The file Should be of the form
&lt;agent_text&gt;,,…, where the number of commas that
appear is the same as in the csv file at grounding_map_path.
Default: None</li>
<li><strong>lineterminator</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – Line terminator used in input csv file. Default:</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>g_map</strong> – The grounding map constructed from the given files.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="indra.preassembler.grounding_mapper.protein_map_from_twg">
<code class="descclassname">indra.preassembler.grounding_mapper.</code><code class="descname">protein_map_from_twg</code><span class="sig-paren">(</span><em>twg</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/grounding_mapper.html#protein_map_from_twg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.grounding_mapper.protein_map_from_twg" title="Permalink to this definition">¶</a></dt>
<dd><p>Build  map of entity texts to validate protein grounding.</p>
<p>Looks at the grounding of the entity texts extracted from the statements
and finds proteins where there is grounding to a human protein that maps to
an HGNC name that is an exact match to the entity text. Returns a dict that
can be used to update/expand the grounding map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>twg</strong> (<em>list of tuple</em>) – list of tuples of the form output by agent_texts_with_grounding</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>protein_map</strong> – dict keyed on agent text with associated values
{‘TEXT’: agent_text, ‘UP’: uniprot_id}. Entries are for agent texts
where the grounding map was able to find human protein grounded to
this agent_text in Uniprot.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="indra.preassembler.grounding_mapper.save_base_map">
<code class="descclassname">indra.preassembler.grounding_mapper.</code><code class="descname">save_base_map</code><span class="sig-paren">(</span><em>filename</em>, <em>grouped_by_text</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/grounding_mapper.html#save_base_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.grounding_mapper.save_base_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Dump a list of agents along with groundings and counts into a csv file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> (<em>str</em>) – Filepath for output file</li>
<li><strong>grouped_by_text</strong> (<em>list of tuple</em>) – List of tuples of the form output by agent_texts_with_grounding</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="indra.preassembler.grounding_mapper.save_sentences">
<code class="descclassname">indra.preassembler.grounding_mapper.</code><code class="descname">save_sentences</code><span class="sig-paren">(</span><em>twg</em>, <em>stmts</em>, <em>filename</em>, <em>agent_limit=300</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/grounding_mapper.html#save_sentences"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.grounding_mapper.save_sentences" title="Permalink to this definition">¶</a></dt>
<dd><p>Write evidence sentences for stmts with ungrounded agents to csv file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>twg</strong> (<em>list of tuple</em>) – list of tuples of ungrounded agent_texts with counts of the
number of times they are mentioned in the list of statements.
Should be sorted in descending order by the counts.
This is of the form output by the function ungrounded texts.</li>
<li><strong>stmts</strong> (list of <code class="xref py py-class docutils literal notranslate"><span class="pre">indra.statements.Statement</span></code>) – </li>
<li><strong>filename</strong> (<em>str</em>) – Path to output file</li>
<li><strong>agent_limit</strong> (<em>Optional</em><em>[</em><em>int</em><em>]</em>) – Number of agents to include in output file. Takes the top agents
by count.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="indra.preassembler.grounding_mapper.ungrounded_texts">
<code class="descclassname">indra.preassembler.grounding_mapper.</code><code class="descname">ungrounded_texts</code><span class="sig-paren">(</span><em>stmts</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/grounding_mapper.html#ungrounded_texts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.grounding_mapper.ungrounded_texts" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all ungrounded entities ordered by number of mentions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>stmts</strong> (list of <code class="xref py py-class docutils literal notranslate"><span class="pre">indra.statements.Statement</span></code>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>ungroundc</strong> – list of tuples of the form (text: str, count: int) sorted in descending
order by count.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list of tuple</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-indra.preassembler.sitemapper">
<span id="site-curation-and-mapping-indra-preassembler-sitemapper"></span><h2>Site curation and mapping (<a class="reference internal" href="#module-indra.preassembler.sitemapper" title="indra.preassembler.sitemapper"><code class="xref py py-mod docutils literal notranslate"><span class="pre">indra.preassembler.sitemapper</span></code></a>)<a class="headerlink" href="#module-indra.preassembler.sitemapper" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="indra.preassembler.sitemapper.MappedStatement">
<em class="property">class </em><code class="descclassname">indra.preassembler.sitemapper.</code><code class="descname">MappedStatement</code><span class="sig-paren">(</span><em>original_stmt</em>, <em>mapped_mods</em>, <em>mapped_stmt</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/sitemapper.html#MappedStatement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.sitemapper.MappedStatement" title="Permalink to this definition">¶</a></dt>
<dd><p>Information about a Statement found to have invalid sites.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>original_stmt</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">indra.statements.Statement</span></code>) – The statement prior to mapping.</li>
<li><strong>mapped_mods</strong> (<em>list of MappedSite</em>) – A list of MappedSite objects.</li>
<li><strong>mapped_stmt</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">indra.statements.Statement</span></code>) – The statement after mapping. Note that if no information was found
in the site map, it will be identical to the original statement.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="indra.preassembler.sitemapper.SiteMapper">
<em class="property">class </em><code class="descclassname">indra.preassembler.sitemapper.</code><code class="descname">SiteMapper</code><span class="sig-paren">(</span><em>site_map=None</em>, <em>use_cache=False</em>, <em>cache_path=None</em>, <em>do_methionine_offset=True</em>, <em>do_orthology_mapping=True</em>, <em>do_isoform_mapping=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/sitemapper.html#SiteMapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.sitemapper.SiteMapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Use site information to fix modification sites in Statements.</p>
<p>This is a wrapper around the protmapper package’s ProtMapper class and adds
all the additional functionality to handle INDRA Statements and Agents.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>site_map</strong> (dict (as returned by <code class="xref py py-func docutils literal notranslate"><span class="pre">load_site_map()</span></code>)) – A dict mapping tuples of the form <cite>(gene, orig_res, orig_pos)</cite> to a
tuple of the form <cite>(correct_res, correct_pos, comment)</cite>, where <cite>gene</cite>
is the string name of the gene (canonicalized to HGNC); <cite>orig_res</cite> and
<cite>orig_pos</cite> are the residue and position to be mapped; <cite>correct_res</cite> and
<cite>correct_pos</cite> are the corrected residue and position, and <cite>comment</cite> is
a string describing the reason for the mapping (species error, isoform
error, wrong residue name, etc.).</li>
<li><strong>use_cache</strong> (<em>Optional</em><em>[</em><em>bool</em><em>]</em>) – If True, the SITEMAPPER_CACHE_PATH from the config (or environment)
is loaded and cached mappings are read and written to the given path.
Otherwise, no cache is used. Default: False</li>
<li><strong>do_methionine_offset</strong> (<em>boolean</em>) – Whether to check for off-by-one errors in site position (possibly)
attributable to site numbering from mature proteins after
cleavage of the initial methionine. If True, checks the reference
sequence for a known modification at 1 site position greater
than the given one; if there exists such a site, creates the
mapping. Default is True.</li>
<li><strong>do_orthology_mapping</strong> (<em>boolean</em>) – Whether to check sequence positions for known modification sites
in mouse or rat sequences (based on PhosphoSitePlus data). If a
mouse/rat site is found that is linked to a site in the human
reference sequence, a mapping is created. Default is True.</li>
<li><strong>do_isoform_mapping</strong> (<em>boolean</em>) – Whether to check sequence positions for known modifications
in other human isoforms of the protein (based on PhosphoSitePlus
data). If a site is found that is linked to a site in the human
reference sequence, a mapping is created. Default is True.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Fixing site errors on both the modification state of an agent (MAP2K1) and
the target of a Phosphorylation statement (MAPK1):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">map2k1_phos</span> <span class="o">=</span> <span class="n">Agent</span><span class="p">(</span><span class="s1">&#39;MAP2K1&#39;</span><span class="p">,</span> <span class="n">db_refs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;UP&#39;</span><span class="p">:</span><span class="s1">&#39;Q02750&#39;</span><span class="p">},</span> <span class="n">mods</span><span class="o">=</span><span class="p">[</span>
<span class="gp">... </span><span class="n">ModCondition</span><span class="p">(</span><span class="s1">&#39;phosphorylation&#39;</span><span class="p">,</span> <span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="s1">&#39;217&#39;</span><span class="p">),</span>
<span class="gp">... </span><span class="n">ModCondition</span><span class="p">(</span><span class="s1">&#39;phosphorylation&#39;</span><span class="p">,</span> <span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="s1">&#39;221&#39;</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapk1</span> <span class="o">=</span> <span class="n">Agent</span><span class="p">(</span><span class="s1">&#39;MAPK1&#39;</span><span class="p">,</span> <span class="n">db_refs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;UP&#39;</span><span class="p">:</span><span class="s1">&#39;P28482&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stmt</span> <span class="o">=</span> <span class="n">Phosphorylation</span><span class="p">(</span><span class="n">map2k1_phos</span><span class="p">,</span> <span class="n">mapk1</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span><span class="s1">&#39;183&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">valid</span><span class="p">,</span> <span class="n">mapped</span><span class="p">)</span> <span class="o">=</span> <span class="n">default_mapper</span><span class="o">.</span><span class="n">map_sites</span><span class="p">([</span><span class="n">stmt</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">valid</span>
<span class="go">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapped</span>  
<span class="go">[</span>
<span class="go">MappedStatement:</span>
<span class="go">    original_stmt: Phosphorylation(MAP2K1(mods: (phosphorylation, S, 217), (phosphorylation, S, 221)), MAPK1(), T, 183)</span>
<span class="go">    mapped_mods: MappedSite(up_id=&#39;Q02750&#39;, error_code=None, valid=False, orig_res=&#39;S&#39;, orig_pos=&#39;217&#39;, mapped_res=&#39;S&#39;, mapped_pos=&#39;218&#39;, description=&#39;INFERRED_METHIONINE_CLEAVAGE&#39;, gene_name=&#39;MAP2K1&#39;)</span>
<span class="go">                 MappedSite(up_id=&#39;Q02750&#39;, error_code=None, valid=False, orig_res=&#39;S&#39;, orig_pos=&#39;221&#39;, mapped_res=&#39;S&#39;, mapped_pos=&#39;222&#39;, description=&#39;INFERRED_METHIONINE_CLEAVAGE&#39;, gene_name=&#39;MAP2K1&#39;)</span>
<span class="go">                 MappedSite(up_id=&#39;P28482&#39;, error_code=None, valid=False, orig_res=&#39;T&#39;, orig_pos=&#39;183&#39;, mapped_res=&#39;T&#39;, mapped_pos=&#39;185&#39;, description=&#39;INFERRED_MOUSE_SITE&#39;, gene_name=&#39;MAPK1&#39;)</span>
<span class="go">    mapped_stmt: Phosphorylation(MAP2K1(mods: (phosphorylation, S, 218), (phosphorylation, S, 222)), MAPK1(), T, 185)</span>
<span class="go">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ms</span> <span class="o">=</span> <span class="n">mapped</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ms</span><span class="o">.</span><span class="n">original_stmt</span>
<span class="go">Phosphorylation(MAP2K1(mods: (phosphorylation, S, 217), (phosphorylation, S, 221)), MAPK1(), T, 183)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ms</span><span class="o">.</span><span class="n">mapped_mods</span> 
<span class="go">[MappedSite(up_id=&#39;Q02750&#39;, error_code=None, valid=False, orig_res=&#39;S&#39;, orig_pos=&#39;217&#39;, mapped_res=&#39;S&#39;, mapped_pos=&#39;218&#39;, description=&#39;INFERRED_METHIONINE_CLEAVAGE&#39;, gene_name=&#39;MAP2K1&#39;), MappedSite(up_id=&#39;Q02750&#39;, error_code=None, valid=False, orig_res=&#39;S&#39;, orig_pos=&#39;221&#39;, mapped_res=&#39;S&#39;, mapped_pos=&#39;222&#39;, description=&#39;INFERRED_METHIONINE_CLEAVAGE&#39;, gene_name=&#39;MAP2K1&#39;), MappedSite(up_id=&#39;P28482&#39;, error_code=None, valid=False, orig_res=&#39;T&#39;, orig_pos=&#39;183&#39;, mapped_res=&#39;T&#39;, mapped_pos=&#39;185&#39;, description=&#39;INFERRED_MOUSE_SITE&#39;, gene_name=&#39;MAPK1&#39;)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ms</span><span class="o">.</span><span class="n">mapped_stmt</span>
<span class="go">Phosphorylation(MAP2K1(mods: (phosphorylation, S, 218), (phosphorylation, S, 222)), MAPK1(), T, 185)</span>
</pre></div>
</div>
<dl class="method">
<dt id="indra.preassembler.sitemapper.SiteMapper.map_sites">
<code class="descname">map_sites</code><span class="sig-paren">(</span><em>stmts</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/sitemapper.html#SiteMapper.map_sites"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.sitemapper.SiteMapper.map_sites" title="Permalink to this definition">¶</a></dt>
<dd><p>Check a set of statements for invalid modification sites.</p>
<p>Statements are checked against Uniprot reference sequences to determine
if residues referred to by post-translational modifications exist at
the given positions.</p>
<p>If there is nothing amiss with a statement (modifications on any of the
agents, modifications made in the statement, etc.), then the statement
goes into the list of valid statements. If there is a problem with the
statement, the offending modifications are looked up in the site map
(<code class="xref py py-attr docutils literal notranslate"><span class="pre">site_map</span></code>), and an instance of <a class="reference internal" href="#indra.preassembler.sitemapper.MappedStatement" title="indra.preassembler.sitemapper.MappedStatement"><code class="xref py py-class docutils literal notranslate"><span class="pre">MappedStatement</span></code></a>
is added to the list of mapped statements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>stmts</strong> (list of <code class="xref py py-class docutils literal notranslate"><span class="pre">indra.statement.Statement</span></code>) – The statements to check for site errors.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">2-tuple containing (valid_statements, mapped_statements). The first
element of the tuple is a list of valid statements
(<code class="xref py py-class docutils literal notranslate"><span class="pre">indra.statement.Statement</span></code>) that were not found to
contain any site errors. The second element of the tuple is a list
of mapped statements (<a class="reference internal" href="#indra.preassembler.sitemapper.MappedStatement" title="indra.preassembler.sitemapper.MappedStatement"><code class="xref py py-class docutils literal notranslate"><span class="pre">MappedStatement</span></code></a>) with information
on the incorrect sites and corresponding statements with correctly
mapped sites.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">tuple</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-indra.preassembler.hierarchy_manager">
<span id="hierarchy-manager-indra-preassembler-hierarchy-manager"></span><h2>Hierarchy manager (<a class="reference internal" href="#module-indra.preassembler.hierarchy_manager" title="indra.preassembler.hierarchy_manager"><code class="xref py py-mod docutils literal notranslate"><span class="pre">indra.preassembler.hierarchy_manager</span></code></a>)<a class="headerlink" href="#module-indra.preassembler.hierarchy_manager" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="indra.preassembler.hierarchy_manager.HierarchyManager">
<em class="property">class </em><code class="descclassname">indra.preassembler.hierarchy_manager.</code><code class="descname">HierarchyManager</code><span class="sig-paren">(</span><em>rdf_file=None</em>, <em>build_closure=True</em>, <em>uri_as_name=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/hierarchy_manager.html#HierarchyManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.hierarchy_manager.HierarchyManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Store hierarchical relationships between different types of entities.</p>
<p>Used to store, e.g., entity hierarchies (proteins and protein families)
and modification hierarchies (serine phosphorylation vs. phosphorylation).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>rdf_file</strong> (<em>string</em>) – Path to the RDF file containing the hierarchy.</li>
<li><strong>build_closure</strong> (<em>Optional</em><em>[</em><em>bool</em><em>]</em>) – If True, the transitive closure of the hierarchy is generated
up from to speed up processing. Default: True</li>
<li><strong>uri_as_name</strong> (<em>Optional</em><em>[</em><em>bool</em><em>]</em>) – If True, entries are accessed directly by their URIs. If False
entries are accessed by finding their name through the
hasName relationship. Default: True</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="indra.preassembler.hierarchy_manager.HierarchyManager.graph">
<code class="descname">graph</code><a class="headerlink" href="#indra.preassembler.hierarchy_manager.HierarchyManager.graph" title="Permalink to this definition">¶</a></dt>
<dd><p>instance of <cite>rdflib.Graph</cite> – The RDF graph containing the hierarchy.</p>
</dd></dl>

<dl class="method">
<dt id="indra.preassembler.hierarchy_manager.HierarchyManager.build_transitive_closure">
<code class="descname">build_transitive_closure</code><span class="sig-paren">(</span><em>rel</em>, <em>tc_dict</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/hierarchy_manager.html#HierarchyManager.build_transitive_closure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.hierarchy_manager.HierarchyManager.build_transitive_closure" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a transitive closure for a given relation in a given dict.</p>
</dd></dl>

<dl class="method">
<dt id="indra.preassembler.hierarchy_manager.HierarchyManager.build_transitive_closures">
<code class="descname">build_transitive_closures</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/hierarchy_manager.html#HierarchyManager.build_transitive_closures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.hierarchy_manager.HierarchyManager.build_transitive_closures" title="Permalink to this definition">¶</a></dt>
<dd><p>Build the transitive closures of the hierarchy.</p>
<p>This method constructs dictionaries which contain terms in the
hierarchy as keys and either all the “isa+” or “partof+” related terms
as values.</p>
</dd></dl>

<dl class="method">
<dt id="indra.preassembler.hierarchy_manager.HierarchyManager.directly_or_indirectly_related">
<code class="descname">directly_or_indirectly_related</code><span class="sig-paren">(</span><em>ns1</em>, <em>id1</em>, <em>ns2</em>, <em>id2</em>, <em>closure_dict</em>, <em>relation_func</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/hierarchy_manager.html#HierarchyManager.directly_or_indirectly_related"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.hierarchy_manager.HierarchyManager.directly_or_indirectly_related" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if two entities have the speicified relationship.</p>
<p>This relation is constructed possibly through multiple links connecting
the two entities directly or indirectly.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ns1</strong> (<em>str</em>) – Namespace code for an entity.</li>
<li><strong>id1</strong> (<em>str</em>) – URI for an entity.</li>
<li><strong>ns2</strong> (<em>str</em>) – Namespace code for an entity.</li>
<li><strong>id2</strong> (<em>str</em>) – URI for an entity.</li>
<li><strong>closure_dict</strong> (<em>dict</em>) – A dictionary mapping node names to nodes that have the
specified relationship, directly or indirectly. Empty if this
has not been precomputed.</li>
<li><strong>relation_func</strong> (<em>function</em>) – Function with arguments (node, graph) that generates objects
with some relationship with node on the given graph.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if t1 has the specified relationship with t2, either
directly or through a series of intermediates; False otherwise.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="indra.preassembler.hierarchy_manager.HierarchyManager.extend_with">
<code class="descname">extend_with</code><span class="sig-paren">(</span><em>rdf_file</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/hierarchy_manager.html#HierarchyManager.extend_with"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.hierarchy_manager.HierarchyManager.extend_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Extend the RDF graph of this HierarchyManager with another RDF file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>rdf_file</strong> (<em>str</em>) – An RDF file which is parsed such that the current graph and the
graph described by the file are merged.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="indra.preassembler.hierarchy_manager.HierarchyManager.find_entity">
<code class="descname">find_entity</code><a class="reference internal" href="../../_modules/indra/preassembler/hierarchy_manager.html#HierarchyManager.find_entity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.hierarchy_manager.HierarchyManager.find_entity" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the entity that has the specified name (or synonym).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>x</strong> (<em>string</em>) – Name or synonym for the target entity.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="indra.preassembler.hierarchy_manager.HierarchyManager.get_children">
<code class="descname">get_children</code><span class="sig-paren">(</span><em>uri</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/hierarchy_manager.html#HierarchyManager.get_children"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.hierarchy_manager.HierarchyManager.get_children" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all (not just immediate) children of a given entry.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>uri</strong> (<em>str</em>) – The URI of the entry whose children are to be returned. See the
get_uri method to construct this URI from a name space and id.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="indra.preassembler.hierarchy_manager.HierarchyManager.get_parents">
<code class="descname">get_parents</code><span class="sig-paren">(</span><em>uri</em>, <em>type='all'</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/hierarchy_manager.html#HierarchyManager.get_parents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.hierarchy_manager.HierarchyManager.get_parents" title="Permalink to this definition">¶</a></dt>
<dd><p>Return parents of a given entry.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>uri</strong> (<em>str</em>) – The URI of the entry whose parents are to be returned. See the
get_uri method to construct this URI from a name space and id.</li>
<li><strong>type</strong> (<em>str</em>) – ‘all’: return all parents irrespective of level;
‘immediate’: return only the immediate parents;
‘top’: return only the highest level parents</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="indra.preassembler.hierarchy_manager.HierarchyManager.is_opposite">
<code class="descname">is_opposite</code><span class="sig-paren">(</span><em>ns1</em>, <em>id1</em>, <em>ns2</em>, <em>id2</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/hierarchy_manager.html#HierarchyManager.is_opposite"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.hierarchy_manager.HierarchyManager.is_opposite" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if two entities are in an “is_opposite” relationship</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ns1</strong> (<em>str</em>) – Namespace code for an entity.</li>
<li><strong>id1</strong> (<em>str</em>) – URI for an entity.</li>
<li><strong>ns2</strong> (<em>str</em>) – Namespace code for an entity.</li>
<li><strong>id2</strong> (<em>str</em>) – URI for an entity.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if t1 has an “is_opposite” relationship with t2.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="indra.preassembler.hierarchy_manager.HierarchyManager.isa">
<code class="descname">isa</code><span class="sig-paren">(</span><em>ns1</em>, <em>id1</em>, <em>ns2</em>, <em>id2</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/hierarchy_manager.html#HierarchyManager.isa"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.hierarchy_manager.HierarchyManager.isa" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if one entity has an “isa” relationship to another.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ns1</strong> (<em>str</em>) – Namespace code for an entity.</li>
<li><strong>id1</strong> (<em>string</em>) – URI for an entity.</li>
<li><strong>ns2</strong> (<em>str</em>) – Namespace code for an entity.</li>
<li><strong>id2</strong> (<em>str</em>) – URI for an entity.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if t1 has an “isa” relationship with t2, either directly or
through a series of intermediates; False otherwise.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="indra.preassembler.hierarchy_manager.HierarchyManager.isa_or_partof">
<code class="descname">isa_or_partof</code><span class="sig-paren">(</span><em>ns1</em>, <em>id1</em>, <em>ns2</em>, <em>id2</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/hierarchy_manager.html#HierarchyManager.isa_or_partof"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.hierarchy_manager.HierarchyManager.isa_or_partof" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if two entities are in an “isa” or “partof” relationship</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ns1</strong> (<em>str</em>) – Namespace code for an entity.</li>
<li><strong>id1</strong> (<em>str</em>) – URI for an entity.</li>
<li><strong>ns2</strong> (<em>str</em>) – Namespace code for an entity.</li>
<li><strong>id2</strong> (<em>str</em>) – URI for an entity.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if t1 has a “isa” or “partof” relationship with t2, either
directly or through a series of intermediates; False otherwise.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="indra.preassembler.hierarchy_manager.HierarchyManager.load_from_rdf_file">
<code class="descname">load_from_rdf_file</code><span class="sig-paren">(</span><em>rdf_file</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/hierarchy_manager.html#HierarchyManager.load_from_rdf_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.hierarchy_manager.HierarchyManager.load_from_rdf_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize given an RDF input file representing the hierarchy.”</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>rdf_file</strong> (<em>str</em>) – Path to an RDF file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="indra.preassembler.hierarchy_manager.HierarchyManager.load_from_rdf_graph">
<code class="descname">load_from_rdf_graph</code><span class="sig-paren">(</span><em>rdf_graph</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/hierarchy_manager.html#HierarchyManager.load_from_rdf_graph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.hierarchy_manager.HierarchyManager.load_from_rdf_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize given an RDF Graph representing the hierarchy.”</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>rdf_graph</strong> (<em>rdflib.Graph</em>) – An rdflib Graph representing the hierarchy.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="indra.preassembler.hierarchy_manager.HierarchyManager.load_from_rdf_string">
<code class="descname">load_from_rdf_string</code><span class="sig-paren">(</span><em>rdf_str</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/hierarchy_manager.html#HierarchyManager.load_from_rdf_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.hierarchy_manager.HierarchyManager.load_from_rdf_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize given an RDF string representing the hierarchy.”</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>rdf_str</strong> (<em>str</em>) – An RDF string.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="indra.preassembler.hierarchy_manager.HierarchyManager.partof">
<code class="descname">partof</code><span class="sig-paren">(</span><em>ns1</em>, <em>id1</em>, <em>ns2</em>, <em>id2</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/hierarchy_manager.html#HierarchyManager.partof"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.hierarchy_manager.HierarchyManager.partof" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if one entity is “partof” another.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ns1</strong> (<em>str</em>) – Namespace code for an entity.</li>
<li><strong>id1</strong> (<em>str</em>) – URI for an entity.</li>
<li><strong>ns2</strong> (<em>str</em>) – Namespace code for an entity.</li>
<li><strong>id2</strong> (<em>str</em>) – URI for an entity.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if t1 has a “partof” relationship with t2, either directly or
through a series of intermediates; False otherwise.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="indra.preassembler.hierarchy_manager.UnknownNamespaceException">
<em class="property">exception </em><code class="descclassname">indra.preassembler.hierarchy_manager.</code><code class="descname">UnknownNamespaceException</code><a class="reference internal" href="../../_modules/indra/preassembler/hierarchy_manager.html#UnknownNamespaceException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.hierarchy_manager.UnknownNamespaceException" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="indra.preassembler.hierarchy_manager.YamlHierarchyManager">
<em class="property">class </em><code class="descclassname">indra.preassembler.hierarchy_manager.</code><code class="descname">YamlHierarchyManager</code><span class="sig-paren">(</span><em>root</em>, <em>yaml_to_rdf</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/indra/preassembler/hierarchy_manager.html#YamlHierarchyManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#indra.preassembler.hierarchy_manager.YamlHierarchyManager" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../belief/index.html" class="btn btn-neutral float-right" title="Belief Engine (indra.belief)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../literature/index.html" class="btn btn-neutral" title="Literature clients (indra.literature)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, B. M. Gyori, J. A. Bachman.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.11.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>